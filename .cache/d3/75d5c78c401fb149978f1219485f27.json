{"id":"p0XB","dependencies":[{"name":"/Users/erik/webdev/temp/jigsaw-puzzle/package.json","includedInParent":true,"mtime":1607410881326}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.makeCanvas=exports.updCanvas=void 0;const e=e=>{const{top:t,left:n}=e.canvas.element.getBoundingClientRect();return e.canvas.pos={x:n,y:t},e};exports.updCanvas=e;const t=e=>{const t=window.devicePixelRatio,n=\"CANVAS\"===e.tagName?e:document.createElement(\"canvas\"),a=n.getContext(\"2d\"),{height:s,width:o}=getComputedStyle(e);n.width=parseInt(o,0)*t,n.height=parseInt(s,0)*t,n.style.width=parseInt(o,0)+\"px\",n.style.height=parseInt(s,0)+\"px\",\"CANVAS\"!==e.tagName&&e.appendChild(n);const{top:i,left:p}=n.getBoundingClientRect();return{element:n,ctx:a,pos:{x:p,y:i},width:n.width,height:n.height,DPI:t}};exports.makeCanvas=t;"},"sourceMaps":{"js":{"mappings":[{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":0}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":13}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":20}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":35}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":43}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":56}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":57}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":64}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":68}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":76}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":87}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":95}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":110}},{"source":"lib/make-canvas.js","original":{"line":1,"column":7},"generated":{"line":1,"column":112}},{"source":"lib/make-canvas.js","name":"updCanvas","original":{"line":1,"column":13},"generated":{"line":1,"column":118}},{"source":"lib/make-canvas.js","name":"state","original":{"line":1,"column":26},"generated":{"line":1,"column":120}},{"source":"lib/make-canvas.js","original":{"line":2,"column":8},"generated":{"line":1,"column":124}},{"source":"lib/make-canvas.js","original":{"line":2,"column":8},"generated":{"line":1,"column":130}},{"source":"lib/make-canvas.js","name":"top","original":{"line":2,"column":10},"generated":{"line":1,"column":134}},{"source":"lib/make-canvas.js","original":{"line":2,"column":8},"generated":{"line":1,"column":136}},{"source":"lib/make-canvas.js","name":"left","original":{"line":2,"column":15},"generated":{"line":1,"column":141}},{"source":"lib/make-canvas.js","name":"state","original":{"line":2,"column":24},"generated":{"line":1,"column":144}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":2,"column":30},"generated":{"line":1,"column":146}},{"source":"lib/make-canvas.js","name":"element","original":{"line":2,"column":37},"generated":{"line":1,"column":153}},{"source":"lib/make-canvas.js","name":"getBoundingClientRect","original":{"line":2,"column":45},"generated":{"line":1,"column":161}},{"source":"lib/make-canvas.js","name":"state","original":{"line":8,"column":9},"generated":{"line":1,"column":185}},{"source":"lib/make-canvas.js","name":"state","original":{"line":4,"column":2},"generated":{"line":1,"column":192}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":4,"column":8},"generated":{"line":1,"column":194}},{"source":"lib/make-canvas.js","name":"pos","original":{"line":4,"column":15},"generated":{"line":1,"column":201}},{"source":"lib/make-canvas.js","original":{"line":4,"column":21},"generated":{"line":1,"column":205}},{"source":"lib/make-canvas.js","name":"x","original":{"line":4,"column":23},"generated":{"line":1,"column":206}},{"source":"lib/make-canvas.js","name":"left","original":{"line":4,"column":26},"generated":{"line":1,"column":208}},{"source":"lib/make-canvas.js","name":"y","original":{"line":4,"column":32},"generated":{"line":1,"column":210}},{"source":"lib/make-canvas.js","name":"top","original":{"line":4,"column":35},"generated":{"line":1,"column":212}},{"source":"lib/make-canvas.js","name":"state","original":{"line":8,"column":9},"generated":{"line":1,"column":215}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":218}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":226}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":236}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":238}},{"source":"lib/make-canvas.js","name":"makeCanvas","original":{"line":11,"column":13},"generated":{"line":1,"column":244}},{"source":"lib/make-canvas.js","name":"element","original":{"line":11,"column":27},"generated":{"line":1,"column":246}},{"source":"lib/make-canvas.js","name":"DPI","original":{"line":12,"column":8},"generated":{"line":1,"column":250}},{"source":"lib/make-canvas.js","name":"DPI","original":{"line":12,"column":8},"generated":{"line":1,"column":256}},{"source":"lib/make-canvas.js","name":"window","original":{"line":12,"column":14},"generated":{"line":1,"column":258}},{"source":"lib/make-canvas.js","name":"devicePixelRatio","original":{"line":12,"column":21},"generated":{"line":1,"column":265}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":13,"column":8},"generated":{"line":1,"column":282}},{"source":"lib/make-canvas.js","original":{"line":14,"column":24},"generated":{"line":1,"column":284}},{"source":"lib/make-canvas.js","name":"element","original":{"line":14,"column":4},"generated":{"line":1,"column":295}},{"source":"lib/make-canvas.js","name":"tagName","original":{"line":14,"column":12},"generated":{"line":1,"column":297}},{"source":"lib/make-canvas.js","name":"element","original":{"line":14,"column":35},"generated":{"line":1,"column":305}},{"source":"lib/make-canvas.js","name":"document","original":{"line":14,"column":45},"generated":{"line":1,"column":307}},{"source":"lib/make-canvas.js","name":"createElement","original":{"line":14,"column":54},"generated":{"line":1,"column":316}},{"source":"lib/make-canvas.js","original":{"line":14,"column":68},"generated":{"line":1,"column":330}},{"source":"lib/make-canvas.js","name":"ctx","original":{"line":15,"column":8},"generated":{"line":1,"column":340}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":15,"column":14},"generated":{"line":1,"column":342}},{"source":"lib/make-canvas.js","name":"getContext","original":{"line":15,"column":21},"generated":{"line":1,"column":344}},{"source":"lib/make-canvas.js","original":{"line":15,"column":32},"generated":{"line":1,"column":355}},{"source":"lib/make-canvas.js","original":{"line":17,"column":8},"generated":{"line":1,"column":362}},{"source":"lib/make-canvas.js","name":"height","original":{"line":17,"column":10},"generated":{"line":1,"column":369}},{"source":"lib/make-canvas.js","original":{"line":17,"column":8},"generated":{"line":1,"column":371}},{"source":"lib/make-canvas.js","name":"width","original":{"line":17,"column":18},"generated":{"line":1,"column":377}},{"source":"lib/make-canvas.js","name":"getComputedStyle","original":{"line":17,"column":28},"generated":{"line":1,"column":380}},{"source":"lib/make-canvas.js","name":"element","original":{"line":17,"column":45},"generated":{"line":1,"column":397}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":19,"column":2},"generated":{"line":1,"column":400}},{"source":"lib/make-canvas.js","name":"width","original":{"line":19,"column":9},"generated":{"line":1,"column":402}},{"source":"lib/make-canvas.js","name":"parseInt","original":{"line":19,"column":17},"generated":{"line":1,"column":408}},{"source":"lib/make-canvas.js","name":"width","original":{"line":19,"column":26},"generated":{"line":1,"column":417}},{"source":"lib/make-canvas.js","original":{"line":19,"column":33},"generated":{"line":1,"column":419}},{"source":"lib/make-canvas.js","name":"DPI","original":{"line":19,"column":38},"generated":{"line":1,"column":422}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":20,"column":2},"generated":{"line":1,"column":424}},{"source":"lib/make-canvas.js","name":"height","original":{"line":20,"column":9},"generated":{"line":1,"column":426}},{"source":"lib/make-canvas.js","name":"parseInt","original":{"line":20,"column":18},"generated":{"line":1,"column":433}},{"source":"lib/make-canvas.js","name":"height","original":{"line":20,"column":27},"generated":{"line":1,"column":442}},{"source":"lib/make-canvas.js","original":{"line":20,"column":35},"generated":{"line":1,"column":444}},{"source":"lib/make-canvas.js","name":"DPI","original":{"line":20,"column":40},"generated":{"line":1,"column":447}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":21,"column":2},"generated":{"line":1,"column":449}},{"source":"lib/make-canvas.js","name":"style","original":{"line":21,"column":9},"generated":{"line":1,"column":451}},{"source":"lib/make-canvas.js","name":"width","original":{"line":21,"column":15},"generated":{"line":1,"column":457}},{"source":"lib/make-canvas.js","name":"parseInt","original":{"line":21,"column":23},"generated":{"line":1,"column":463}},{"source":"lib/make-canvas.js","name":"width","original":{"line":21,"column":32},"generated":{"line":1,"column":472}},{"source":"lib/make-canvas.js","original":{"line":21,"column":39},"generated":{"line":1,"column":474}},{"source":"lib/make-canvas.js","original":{"line":21,"column":44},"generated":{"line":1,"column":477}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":22,"column":2},"generated":{"line":1,"column":482}},{"source":"lib/make-canvas.js","name":"style","original":{"line":22,"column":9},"generated":{"line":1,"column":484}},{"source":"lib/make-canvas.js","name":"height","original":{"line":22,"column":15},"generated":{"line":1,"column":490}},{"source":"lib/make-canvas.js","name":"parseInt","original":{"line":22,"column":24},"generated":{"line":1,"column":497}},{"source":"lib/make-canvas.js","name":"height","original":{"line":22,"column":33},"generated":{"line":1,"column":506}},{"source":"lib/make-canvas.js","original":{"line":22,"column":41},"generated":{"line":1,"column":508}},{"source":"lib/make-canvas.js","original":{"line":22,"column":46},"generated":{"line":1,"column":511}},{"source":"lib/make-canvas.js","original":{"line":24,"column":26},"generated":{"line":1,"column":516}},{"source":"lib/make-canvas.js","name":"element","original":{"line":24,"column":6},"generated":{"line":1,"column":527}},{"source":"lib/make-canvas.js","name":"tagName","original":{"line":24,"column":14},"generated":{"line":1,"column":529}},{"source":"lib/make-canvas.js","name":"element","original":{"line":25,"column":4},"generated":{"line":1,"column":538}},{"source":"lib/make-canvas.js","name":"appendChild","original":{"line":25,"column":12},"generated":{"line":1,"column":540}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":25,"column":24},"generated":{"line":1,"column":552}},{"source":"lib/make-canvas.js","original":{"line":28,"column":8},"generated":{"line":1,"column":555}},{"source":"lib/make-canvas.js","original":{"line":28,"column":8},"generated":{"line":1,"column":561}},{"source":"lib/make-canvas.js","name":"top","original":{"line":28,"column":10},"generated":{"line":1,"column":565}},{"source":"lib/make-canvas.js","original":{"line":28,"column":8},"generated":{"line":1,"column":567}},{"source":"lib/make-canvas.js","name":"left","original":{"line":28,"column":15},"generated":{"line":1,"column":572}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":28,"column":24},"generated":{"line":1,"column":575}},{"source":"lib/make-canvas.js","name":"getBoundingClientRect","original":{"line":28,"column":31},"generated":{"line":1,"column":577}},{"source":"lib/make-canvas.js","original":{"line":30,"column":9},"generated":{"line":1,"column":601}},{"source":"lib/make-canvas.js","original":{"line":30,"column":9},"generated":{"line":1,"column":607}},{"source":"lib/make-canvas.js","name":"element","original":{"line":31,"column":4},"generated":{"line":1,"column":608}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":31,"column":13},"generated":{"line":1,"column":616}},{"source":"lib/make-canvas.js","name":"ctx","original":{"line":32,"column":4},"generated":{"line":1,"column":618}},{"source":"lib/make-canvas.js","name":"ctx","original":{"line":32,"column":4},"generated":{"line":1,"column":622}},{"source":"lib/make-canvas.js","name":"pos","original":{"line":33,"column":4},"generated":{"line":1,"column":624}},{"source":"lib/make-canvas.js","original":{"line":33,"column":9},"generated":{"line":1,"column":628}},{"source":"lib/make-canvas.js","name":"x","original":{"line":33,"column":11},"generated":{"line":1,"column":629}},{"source":"lib/make-canvas.js","name":"left","original":{"line":33,"column":14},"generated":{"line":1,"column":631}},{"source":"lib/make-canvas.js","name":"y","original":{"line":33,"column":20},"generated":{"line":1,"column":633}},{"source":"lib/make-canvas.js","name":"top","original":{"line":33,"column":23},"generated":{"line":1,"column":635}},{"source":"lib/make-canvas.js","name":"width","original":{"line":34,"column":4},"generated":{"line":1,"column":638}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":34,"column":11},"generated":{"line":1,"column":644}},{"source":"lib/make-canvas.js","name":"width","original":{"line":34,"column":18},"generated":{"line":1,"column":646}},{"source":"lib/make-canvas.js","name":"height","original":{"line":35,"column":4},"generated":{"line":1,"column":652}},{"source":"lib/make-canvas.js","name":"canvas","original":{"line":35,"column":12},"generated":{"line":1,"column":659}},{"source":"lib/make-canvas.js","name":"height","original":{"line":35,"column":19},"generated":{"line":1,"column":661}},{"source":"lib/make-canvas.js","name":"DPI","original":{"line":36,"column":4},"generated":{"line":1,"column":668}},{"source":"lib/make-canvas.js","name":"DPI","original":{"line":36,"column":4},"generated":{"line":1,"column":672}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":676}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":684}},{"source":"lib/make-canvas.js","original":{"line":11,"column":7},"generated":{"line":1,"column":695}}],"sources":{"lib/make-canvas.js":"export const updCanvas = (state) => {\n  const { top, left } = state.canvas.element.getBoundingClientRect();\n  // const { width, height } = getComputedStyle(state.canvas.element);\n  state.canvas.pos = { x: left, y: top };\n  // state.canvas.width = parseInt(width, 0);\n  // state.canvas.height = parseInt(height, 0);\n\n  return state;\n};\n\nexport const makeCanvas = (element) => {\n  const DPI = window.devicePixelRatio;\n  const canvas =\n    element.tagName === \"CANVAS\" ? element : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const { height, width } = getComputedStyle(element);\n\n  canvas.width = parseInt(width, 0) * DPI;\n  canvas.height = parseInt(height, 0) * DPI;\n  canvas.style.width = parseInt(width, 0) + \"px\";\n  canvas.style.height = parseInt(height, 0) + \"px\";\n\n  if (element.tagName !== \"CANVAS\") {\n    element.appendChild(canvas);\n  }\n\n  const { top, left } = canvas.getBoundingClientRect();\n\n  return {\n    element: canvas,\n    ctx,\n    pos: { x: left, y: top },\n    width: canvas.width,\n    height: canvas.height,\n    DPI,\n  };\n};\n"},"lineCount":null}},"error":null,"hash":"a04362c50a4f413dbd27080a20507c0e","cacheData":{"env":{}}}