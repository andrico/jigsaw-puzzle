{"id":"pCjM","dependencies":[{"name":"/Users/erik/webdev/temp/jigsaw-puzzle/package.json","includedInParent":true,"mtime":1607410881326},{"name":"./../utils/sides.js","loc":{"line":1,"column":31},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/is-close.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/utils/sides.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isClose=void 0;var s=require(\"./../utils/sides.js\");const r=(r,e,o,t)=>{const{attraction:u}=o.puzzle,c=(0,s.isVertical)(t)?\"y\":\"x\",i=\"x\"===c?\"y\":\"x\",P=!(0,s.nw)(t),l=r[\"y\"===c?\"height\":\"width\"],n=P?e.curPos[c]+l:e.curPos[c]-l;return r.curPos[c]<=n+u&&r.curPos[c]>=n-u&&r.curPos[i]<=e.curPos[i]+u&&r.curPos[i]>=e.curPos[i]-u};exports.isClose=r;"},"sourceMaps":{"js":{"mappings":[{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":0}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":13}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":20}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":35}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":43}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":56}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":57}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":64}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":68}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":76}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":89}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":128}},{"source":"lib/is-close.js","name":"isClose","original":{"line":4,"column":13},"generated":{"line":1,"column":134}},{"source":"lib/is-close.js","original":{"line":4,"column":23},"generated":{"line":1,"column":136}},{"source":"lib/is-close.js","name":"p1","original":{"line":4,"column":24},"generated":{"line":1,"column":137}},{"source":"lib/is-close.js","name":"p2","original":{"line":4,"column":28},"generated":{"line":1,"column":139}},{"source":"lib/is-close.js","name":"state","original":{"line":4,"column":32},"generated":{"line":1,"column":141}},{"source":"lib/is-close.js","name":"side","original":{"line":4,"column":39},"generated":{"line":1,"column":143}},{"source":"lib/is-close.js","original":{"line":5,"column":8},"generated":{"line":1,"column":148}},{"source":"lib/is-close.js","original":{"line":5,"column":8},"generated":{"line":1,"column":154}},{"source":"lib/is-close.js","name":"attraction","original":{"line":5,"column":10},"generated":{"line":1,"column":165}},{"source":"lib/is-close.js","name":"state","original":{"line":5,"column":25},"generated":{"line":1,"column":168}},{"source":"lib/is-close.js","name":"puzzle","original":{"line":5,"column":31},"generated":{"line":1,"column":170}},{"source":"lib/is-close.js","name":"XY","original":{"line":7,"column":8},"generated":{"line":1,"column":177}},{"source":"lib/is-close.js","original":{"line":7,"column":13},"generated":{"line":1,"column":180}},{"source":"lib/is-close.js","name":"side","original":{"line":7,"column":24},"generated":{"line":1,"column":182}},{"source":"lib/is-close.js","name":"side","original":{"line":7,"column":24},"generated":{"line":1,"column":184}},{"source":"lib/is-close.js","name":"side","original":{"line":7,"column":24},"generated":{"line":1,"column":196}},{"source":"lib/is-close.js","original":{"line":7,"column":32},"generated":{"line":1,"column":199}},{"source":"lib/is-close.js","original":{"line":7,"column":38},"generated":{"line":1,"column":203}},{"source":"lib/is-close.js","name":"invXY","original":{"line":8,"column":8},"generated":{"line":1,"column":207}},{"source":"lib/is-close.js","original":{"line":8,"column":23},"generated":{"line":1,"column":209}},{"source":"lib/is-close.js","name":"XY","original":{"line":8,"column":16},"generated":{"line":1,"column":215}},{"source":"lib/is-close.js","original":{"line":8,"column":29},"generated":{"line":1,"column":217}},{"source":"lib/is-close.js","original":{"line":8,"column":35},"generated":{"line":1,"column":221}},{"source":"lib/is-close.js","name":"positive","original":{"line":10,"column":8},"generated":{"line":1,"column":225}},{"source":"lib/is-close.js","original":{"line":10,"column":19},"generated":{"line":1,"column":229}},{"source":"lib/is-close.js","name":"side","original":{"line":10,"column":22},"generated":{"line":1,"column":231}},{"source":"lib/is-close.js","name":"side","original":{"line":10,"column":22},"generated":{"line":1,"column":233}},{"source":"lib/is-close.js","name":"side","original":{"line":10,"column":22},"generated":{"line":1,"column":237}},{"source":"lib/is-close.js","name":"size","original":{"line":12,"column":8},"generated":{"line":1,"column":240}},{"source":"lib/is-close.js","name":"p1","original":{"line":12,"column":15},"generated":{"line":1,"column":242}},{"source":"lib/is-close.js","original":{"line":12,"column":25},"generated":{"line":1,"column":244}},{"source":"lib/is-close.js","name":"XY","original":{"line":12,"column":18},"generated":{"line":1,"column":250}},{"source":"lib/is-close.js","original":{"line":12,"column":31},"generated":{"line":1,"column":252}},{"source":"lib/is-close.js","original":{"line":12,"column":42},"generated":{"line":1,"column":261}},{"source":"lib/is-close.js","name":"offset","original":{"line":13,"column":8},"generated":{"line":1,"column":270}},{"source":"lib/is-close.js","name":"positive","original":{"line":13,"column":17},"generated":{"line":1,"column":272}},{"source":"lib/is-close.js","name":"p2","original":{"line":13,"column":28},"generated":{"line":1,"column":274}},{"source":"lib/is-close.js","name":"curPos","original":{"line":13,"column":31},"generated":{"line":1,"column":276}},{"source":"lib/is-close.js","name":"XY","original":{"line":13,"column":38},"generated":{"line":1,"column":283}},{"source":"lib/is-close.js","name":"size","original":{"line":13,"column":44},"generated":{"line":1,"column":286}},{"source":"lib/is-close.js","name":"p2","original":{"line":13,"column":51},"generated":{"line":1,"column":288}},{"source":"lib/is-close.js","name":"curPos","original":{"line":13,"column":54},"generated":{"line":1,"column":290}},{"source":"lib/is-close.js","name":"XY","original":{"line":13,"column":61},"generated":{"line":1,"column":297}},{"source":"lib/is-close.js","name":"size","original":{"line":13,"column":67},"generated":{"line":1,"column":300}},{"source":"lib/is-close.js","name":"p1","original":{"line":16,"column":4},"generated":{"line":1,"column":302}},{"source":"lib/is-close.js","name":"p1","original":{"line":16,"column":4},"generated":{"line":1,"column":309}},{"source":"lib/is-close.js","name":"curPos","original":{"line":16,"column":7},"generated":{"line":1,"column":311}},{"source":"lib/is-close.js","name":"XY","original":{"line":16,"column":14},"generated":{"line":1,"column":318}},{"source":"lib/is-close.js","name":"offset","original":{"line":16,"column":21},"generated":{"line":1,"column":322}},{"source":"lib/is-close.js","name":"attraction","original":{"line":16,"column":30},"generated":{"line":1,"column":324}},{"source":"lib/is-close.js","name":"p1","original":{"line":17,"column":4},"generated":{"line":1,"column":327}},{"source":"lib/is-close.js","name":"curPos","original":{"line":17,"column":7},"generated":{"line":1,"column":329}},{"source":"lib/is-close.js","name":"XY","original":{"line":17,"column":14},"generated":{"line":1,"column":336}},{"source":"lib/is-close.js","name":"offset","original":{"line":17,"column":21},"generated":{"line":1,"column":340}},{"source":"lib/is-close.js","name":"attraction","original":{"line":17,"column":30},"generated":{"line":1,"column":342}},{"source":"lib/is-close.js","name":"p1","original":{"line":18,"column":4},"generated":{"line":1,"column":345}},{"source":"lib/is-close.js","name":"curPos","original":{"line":18,"column":7},"generated":{"line":1,"column":347}},{"source":"lib/is-close.js","name":"invXY","original":{"line":18,"column":14},"generated":{"line":1,"column":354}},{"source":"lib/is-close.js","name":"p2","original":{"line":18,"column":24},"generated":{"line":1,"column":358}},{"source":"lib/is-close.js","name":"curPos","original":{"line":18,"column":27},"generated":{"line":1,"column":360}},{"source":"lib/is-close.js","name":"invXY","original":{"line":18,"column":34},"generated":{"line":1,"column":367}},{"source":"lib/is-close.js","name":"attraction","original":{"line":18,"column":43},"generated":{"line":1,"column":370}},{"source":"lib/is-close.js","name":"p1","original":{"line":19,"column":4},"generated":{"line":1,"column":373}},{"source":"lib/is-close.js","name":"curPos","original":{"line":19,"column":7},"generated":{"line":1,"column":375}},{"source":"lib/is-close.js","name":"invXY","original":{"line":19,"column":14},"generated":{"line":1,"column":382}},{"source":"lib/is-close.js","name":"p2","original":{"line":19,"column":24},"generated":{"line":1,"column":386}},{"source":"lib/is-close.js","name":"curPos","original":{"line":19,"column":27},"generated":{"line":1,"column":388}},{"source":"lib/is-close.js","name":"invXY","original":{"line":19,"column":34},"generated":{"line":1,"column":395}},{"source":"lib/is-close.js","name":"attraction","original":{"line":19,"column":43},"generated":{"line":1,"column":398}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":401}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":409}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":417}}],"sources":{"lib/is-close.js":"import { isVertical, nw } from \"./../utils/sides.js\";\n\n// is piece1 close to piece2\nexport const isClose = (p1, p2, state, side) => {\n  const { attraction } = state.puzzle;\n\n  const XY = isVertical(side) ? \"y\" : \"x\";\n  const invXY = XY === \"x\" ? \"y\" : \"x\";\n\n  const positive = nw(side) ? false : true;\n\n  const size = p1[XY === \"y\" ? \"height\" : \"width\"];\n  const offset = positive ? p2.curPos[XY] + size : p2.curPos[XY] - size;\n\n  return (\n    p1.curPos[XY] <= offset + attraction &&\n    p1.curPos[XY] >= offset - attraction &&\n    p1.curPos[invXY] <= p2.curPos[invXY] + attraction &&\n    p1.curPos[invXY] >= p2.curPos[invXY] - attraction\n  );\n};\n"},"lineCount":null}},"error":null,"hash":"b2bb91ed8eedaef5a9831d87f1460337","cacheData":{"env":{}}}