{"id":"pCjM","dependencies":[{"name":"/Users/erik/webdev/temp/jigsaw-puzzle/package.json","includedInParent":true,"mtime":1607410169015},{"name":"./../utils/sides.js","loc":{"line":1,"column":31},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/is-close.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/utils/sides.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isClose=void 0;var s=require(\"./../utils/sides.js\"),r=function(r,e,o,t){var u=o.puzzle.attraction,i=(0,s.isVertical)(t)?\"y\":\"x\",c=\"x\"===i?\"y\":\"x\",P=!(0,s.nw)(t),l=r[\"y\"===i?\"height\":\"width\"],a=P?e.curPos[i]+l:e.curPos[i]-l;return r.curPos[i]<=a+u&&r.curPos[i]>=a-u&&r.curPos[c]<=e.curPos[c]+u&&r.curPos[c]>=e.curPos[c]-u};exports.isClose=r;"},"sourceMaps":{"js":{"mappings":[{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":0}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":13}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":20}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":35}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":43}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":56}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":57}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":64}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":68}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":76}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":89}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"lib/is-close.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"lib/is-close.js","name":"isClose","original":{"line":4,"column":13},"generated":{"line":1,"column":128}},{"source":"lib/is-close.js","original":{"line":4,"column":23},"generated":{"line":1,"column":130}},{"source":"lib/is-close.js","name":"p1","original":{"line":4,"column":24},"generated":{"line":1,"column":139}},{"source":"lib/is-close.js","name":"p2","original":{"line":4,"column":28},"generated":{"line":1,"column":141}},{"source":"lib/is-close.js","name":"state","original":{"line":4,"column":32},"generated":{"line":1,"column":143}},{"source":"lib/is-close.js","name":"side","original":{"line":4,"column":39},"generated":{"line":1,"column":145}},{"source":"lib/is-close.js","name":"attraction","original":{"line":5,"column":10},"generated":{"line":1,"column":148}},{"source":"lib/is-close.js","name":"attraction","original":{"line":5,"column":10},"generated":{"line":1,"column":152}},{"source":"lib/is-close.js","name":"state","original":{"line":5,"column":25},"generated":{"line":1,"column":154}},{"source":"lib/is-close.js","name":"puzzle","original":{"line":5,"column":31},"generated":{"line":1,"column":156}},{"source":"lib/is-close.js","name":"attraction","original":{"line":5,"column":10},"generated":{"line":1,"column":163}},{"source":"lib/is-close.js","name":"XY","original":{"line":7,"column":8},"generated":{"line":1,"column":174}},{"source":"lib/is-close.js","original":{"line":7,"column":13},"generated":{"line":1,"column":177}},{"source":"lib/is-close.js","name":"side","original":{"line":7,"column":24},"generated":{"line":1,"column":179}},{"source":"lib/is-close.js","name":"side","original":{"line":7,"column":24},"generated":{"line":1,"column":181}},{"source":"lib/is-close.js","name":"side","original":{"line":7,"column":24},"generated":{"line":1,"column":193}},{"source":"lib/is-close.js","original":{"line":7,"column":32},"generated":{"line":1,"column":196}},{"source":"lib/is-close.js","original":{"line":7,"column":38},"generated":{"line":1,"column":200}},{"source":"lib/is-close.js","name":"invXY","original":{"line":8,"column":8},"generated":{"line":1,"column":204}},{"source":"lib/is-close.js","original":{"line":8,"column":23},"generated":{"line":1,"column":206}},{"source":"lib/is-close.js","name":"XY","original":{"line":8,"column":16},"generated":{"line":1,"column":212}},{"source":"lib/is-close.js","original":{"line":8,"column":29},"generated":{"line":1,"column":214}},{"source":"lib/is-close.js","original":{"line":8,"column":35},"generated":{"line":1,"column":218}},{"source":"lib/is-close.js","name":"positive","original":{"line":10,"column":8},"generated":{"line":1,"column":222}},{"source":"lib/is-close.js","original":{"line":10,"column":19},"generated":{"line":1,"column":226}},{"source":"lib/is-close.js","name":"side","original":{"line":10,"column":22},"generated":{"line":1,"column":228}},{"source":"lib/is-close.js","name":"side","original":{"line":10,"column":22},"generated":{"line":1,"column":230}},{"source":"lib/is-close.js","name":"side","original":{"line":10,"column":22},"generated":{"line":1,"column":234}},{"source":"lib/is-close.js","name":"size","original":{"line":12,"column":8},"generated":{"line":1,"column":237}},{"source":"lib/is-close.js","name":"p1","original":{"line":12,"column":15},"generated":{"line":1,"column":239}},{"source":"lib/is-close.js","original":{"line":12,"column":25},"generated":{"line":1,"column":241}},{"source":"lib/is-close.js","name":"XY","original":{"line":12,"column":18},"generated":{"line":1,"column":247}},{"source":"lib/is-close.js","original":{"line":12,"column":31},"generated":{"line":1,"column":249}},{"source":"lib/is-close.js","original":{"line":12,"column":42},"generated":{"line":1,"column":258}},{"source":"lib/is-close.js","name":"offset","original":{"line":13,"column":8},"generated":{"line":1,"column":267}},{"source":"lib/is-close.js","name":"positive","original":{"line":13,"column":17},"generated":{"line":1,"column":269}},{"source":"lib/is-close.js","name":"p2","original":{"line":13,"column":28},"generated":{"line":1,"column":271}},{"source":"lib/is-close.js","name":"curPos","original":{"line":13,"column":31},"generated":{"line":1,"column":273}},{"source":"lib/is-close.js","name":"XY","original":{"line":13,"column":38},"generated":{"line":1,"column":280}},{"source":"lib/is-close.js","name":"size","original":{"line":13,"column":44},"generated":{"line":1,"column":283}},{"source":"lib/is-close.js","name":"p2","original":{"line":13,"column":51},"generated":{"line":1,"column":285}},{"source":"lib/is-close.js","name":"curPos","original":{"line":13,"column":54},"generated":{"line":1,"column":287}},{"source":"lib/is-close.js","name":"XY","original":{"line":13,"column":61},"generated":{"line":1,"column":294}},{"source":"lib/is-close.js","name":"size","original":{"line":13,"column":67},"generated":{"line":1,"column":297}},{"source":"lib/is-close.js","name":"p1","original":{"line":16,"column":4},"generated":{"line":1,"column":299}},{"source":"lib/is-close.js","name":"p1","original":{"line":16,"column":4},"generated":{"line":1,"column":306}},{"source":"lib/is-close.js","name":"curPos","original":{"line":16,"column":7},"generated":{"line":1,"column":308}},{"source":"lib/is-close.js","name":"XY","original":{"line":16,"column":14},"generated":{"line":1,"column":315}},{"source":"lib/is-close.js","name":"offset","original":{"line":16,"column":21},"generated":{"line":1,"column":319}},{"source":"lib/is-close.js","name":"attraction","original":{"line":16,"column":30},"generated":{"line":1,"column":321}},{"source":"lib/is-close.js","name":"p1","original":{"line":17,"column":4},"generated":{"line":1,"column":324}},{"source":"lib/is-close.js","name":"curPos","original":{"line":17,"column":7},"generated":{"line":1,"column":326}},{"source":"lib/is-close.js","name":"XY","original":{"line":17,"column":14},"generated":{"line":1,"column":333}},{"source":"lib/is-close.js","name":"offset","original":{"line":17,"column":21},"generated":{"line":1,"column":337}},{"source":"lib/is-close.js","name":"attraction","original":{"line":17,"column":30},"generated":{"line":1,"column":339}},{"source":"lib/is-close.js","name":"p1","original":{"line":18,"column":4},"generated":{"line":1,"column":342}},{"source":"lib/is-close.js","name":"curPos","original":{"line":18,"column":7},"generated":{"line":1,"column":344}},{"source":"lib/is-close.js","name":"invXY","original":{"line":18,"column":14},"generated":{"line":1,"column":351}},{"source":"lib/is-close.js","name":"p2","original":{"line":18,"column":24},"generated":{"line":1,"column":355}},{"source":"lib/is-close.js","name":"curPos","original":{"line":18,"column":27},"generated":{"line":1,"column":357}},{"source":"lib/is-close.js","name":"invXY","original":{"line":18,"column":34},"generated":{"line":1,"column":364}},{"source":"lib/is-close.js","name":"attraction","original":{"line":18,"column":43},"generated":{"line":1,"column":367}},{"source":"lib/is-close.js","name":"p1","original":{"line":19,"column":4},"generated":{"line":1,"column":370}},{"source":"lib/is-close.js","name":"curPos","original":{"line":19,"column":7},"generated":{"line":1,"column":372}},{"source":"lib/is-close.js","name":"invXY","original":{"line":19,"column":14},"generated":{"line":1,"column":379}},{"source":"lib/is-close.js","name":"p2","original":{"line":19,"column":24},"generated":{"line":1,"column":383}},{"source":"lib/is-close.js","name":"curPos","original":{"line":19,"column":27},"generated":{"line":1,"column":385}},{"source":"lib/is-close.js","name":"invXY","original":{"line":19,"column":34},"generated":{"line":1,"column":392}},{"source":"lib/is-close.js","name":"attraction","original":{"line":19,"column":43},"generated":{"line":1,"column":395}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":398}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":406}},{"source":"lib/is-close.js","original":{"line":4,"column":7},"generated":{"line":1,"column":414}}],"sources":{"lib/is-close.js":"import { isVertical, nw } from \"./../utils/sides.js\";\n\n// is piece1 close to piece2\nexport const isClose = (p1, p2, state, side) => {\n  const { attraction } = state.puzzle;\n\n  const XY = isVertical(side) ? \"y\" : \"x\";\n  const invXY = XY === \"x\" ? \"y\" : \"x\";\n\n  const positive = nw(side) ? false : true;\n\n  const size = p1[XY === \"y\" ? \"height\" : \"width\"];\n  const offset = positive ? p2.curPos[XY] + size : p2.curPos[XY] - size;\n\n  return (\n    p1.curPos[XY] <= offset + attraction &&\n    p1.curPos[XY] >= offset - attraction &&\n    p1.curPos[invXY] <= p2.curPos[invXY] + attraction &&\n    p1.curPos[invXY] >= p2.curPos[invXY] - attraction\n  );\n};\n"},"lineCount":null}},"error":null,"hash":"58411a49bded0b294c6bf74cbd5061d4","cacheData":{"env":{}}}