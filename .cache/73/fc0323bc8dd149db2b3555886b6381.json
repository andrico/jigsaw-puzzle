{"id":"index.js","dependencies":[{"name":"/Users/erik/webdev/temp/jigsaw-puzzle/package.json","includedInParent":true,"mtime":1607086665994},{"name":"./utils/dom.js","loc":{"line":1,"column":18},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/utils/dom.js"},{"name":"./utils/pipe.js","loc":{"line":2,"column":21},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/utils/pipe.js"},{"name":"./utils/tap.js","loc":{"line":3,"column":20},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/utils/tap.js"},{"name":"./utils/event-listeners.js","loc":{"line":4,"column":22},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/utils/event-listeners.js"},{"name":"./lib/make-canvas.js","loc":{"line":6,"column":38},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/make-canvas.js"},{"name":"./lib/load-image.js","loc":{"line":7,"column":26},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/load-image.js"},{"name":"./lib/make-puzzle.js","loc":{"line":8,"column":27},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/make-puzzle.js"},{"name":"./lib/make-pieces.js","loc":{"line":9,"column":27},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/make-pieces.js"},{"name":"./lib/shuffle.js","loc":{"line":10,"column":24},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/shuffle.js"},{"name":"./lib/paint.js","loc":{"line":11,"column":22},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/paint.js"},{"name":"./lib/activate.js","loc":{"line":12,"column":25},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/activate.js"},{"name":"./lib/deactivate.js","loc":{"line":13,"column":27},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/deactivate.js"},{"name":"./lib/move.js","loc":{"line":14,"column":21},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/move.js"},{"name":"./lib/snap.js","loc":{"line":15,"column":21},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/snap.js"},{"name":"./lib/status.js","loc":{"line":16,"column":23},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/status.js"},{"name":"./lib/gather.js","loc":{"line":17,"column":23},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/gather.js"},{"name":"./lib/clone.js","loc":{"line":18,"column":22},"parent":"/Users/erik/webdev/temp/jigsaw-puzzle/src/index.js","resolved":"/Users/erik/webdev/temp/jigsaw-puzzle/src/lib/clone.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.puzzle = void 0;\n\nvar _dom = require(\"./utils/dom.js\");\n\nvar _pipe = require(\"./utils/pipe.js\");\n\nvar _tap = require(\"./utils/tap.js\");\n\nvar _eventListeners = require(\"./utils/event-listeners.js\");\n\nvar _makeCanvas = require(\"./lib/make-canvas.js\");\n\nvar _loadImage = require(\"./lib/load-image.js\");\n\nvar _makePuzzle = require(\"./lib/make-puzzle.js\");\n\nvar _makePieces = require(\"./lib/make-pieces.js\");\n\nvar _shuffle = require(\"./lib/shuffle.js\");\n\nvar _paint = require(\"./lib/paint.js\");\n\nvar _activate = require(\"./lib/activate.js\");\n\nvar _deactivate = require(\"./lib/deactivate.js\");\n\nvar _move = require(\"./lib/move.js\");\n\nvar _snap = require(\"./lib/snap.js\");\n\nvar _status = require(\"./lib/status.js\");\n\nvar _gather = require(\"./lib/gather.js\");\n\nvar _clone = require(\"./lib/clone.js\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar puzzle = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var element, _ref$restore, restore, _ref$image, img, _ref$pieces, ps, _ref$attraction, attraction, _ref$size, size, _ref$draggable, draggable, _ref$onComplete, onComplete, _ref$onChange, changecb, container, canvas, image, puzzle, pieces, onChange, initState, state, eventListeners;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            element = _ref.element, _ref$restore = _ref.restore, restore = _ref$restore === void 0 ? {} : _ref$restore, _ref$image = _ref.image, img = _ref$image === void 0 ? \"\" : _ref$image, _ref$pieces = _ref.pieces, ps = _ref$pieces === void 0 ? {\n              x: 6,\n              y: 4\n            } : _ref$pieces, _ref$attraction = _ref.attraction, attraction = _ref$attraction === void 0 ? 20 : _ref$attraction, _ref$size = _ref.size, size = _ref$size === void 0 ? 0.8 : _ref$size, _ref$draggable = _ref.draggable, draggable = _ref$draggable === void 0 ? false : _ref$draggable, _ref$onComplete = _ref.onComplete, onComplete = _ref$onComplete === void 0 ? function () {} : _ref$onComplete, _ref$onChange = _ref.onChange, changecb = _ref$onChange === void 0 ? function () {} : _ref$onChange;\n            // game board\n            container = typeof element === \"string\" ? (0, _dom.$)(element) : element;\n\n            if (container) {\n              _context.next = 5;\n              break;\n            }\n\n            console.warn(\"Couldn't find element: \".concat(element));\n            return _context.abrupt(\"return\");\n\n          case 5:\n            // initial setup\n            canvas = (0, _makeCanvas.makeCanvas)(container);\n            _context.t0 = restore.image;\n\n            if (_context.t0) {\n              _context.next = 11;\n              break;\n            }\n\n            _context.next = 10;\n            return (0, _loadImage.loadImage)(img);\n\n          case 10:\n            _context.t0 = _context.sent;\n\n          case 11:\n            image = _context.t0;\n\n            puzzle = function puzzle() {\n              return restore.puzzle || (0, _makePuzzle.makePuzzle)(ps, image, attraction, container, size, draggable, onComplete);\n            };\n\n            pieces = restore.pieces || (0, _makePieces.makePieces)(puzzle()); // passed on-change callback\n\n            onChange = (0, _tap.tap)((0, _pipe.pipe)(_clone.clone, changecb)); // initial state\n\n            initState = function initState() {\n              return {\n                image: image,\n                canvas: canvas,\n                pieces: pieces,\n                puzzle: puzzle()\n              };\n            }; // 'global' game state\n\n\n            state = initState(); // initial paint\n\n            state = restore.puzzle ? (0, _pipe.pipe)(_paint.paint)(state) : (0, _pipe.pipe)(_shuffle.shuffle, _paint.paint)(state); // user interactions\n\n            eventListeners = [(0, _eventListeners.event)(window).resize(function (e) {\n              return state = (0, _pipe.pipe)(_makeCanvas.updCanvas, _gather.gather, _paint.paint)(state);\n            }), (0, _eventListeners.event)(window).scroll(function (e) {\n              return state = (0, _pipe.pipe)(_makeCanvas.updCanvas)(state);\n            }), (0, _eventListeners.event)(state.canvas).mousedown(function (e) {\n              return state = (0, _pipe.pipe)((0, _activate.activate)(e), _paint.paint)(state);\n            }), (0, _eventListeners.event)(state.canvas).mousemove(function (e) {\n              return state = (0, _pipe.pipe)((0, _move.move)(e), _paint.paint)(state);\n            }), (0, _eventListeners.event)(document.body).mouseup(function (e) {\n              return state = (0, _pipe.pipe)(_snap.snap, _deactivate.deactivate, _status.status, _paint.paint, onChange)(state);\n            })]; // exposed api\n\n            return _context.abrupt(\"return\", {\n              newGame: function newGame() {\n                return state = (0, _pipe.pipe)(_shuffle.shuffle, _paint.paint)(initState());\n              },\n              getState: function getState() {\n                return (0, _clone.clone)(state);\n              },\n              setState: function setState(newState) {\n                return state = (0, _pipe.pipe)(_clone.clone, _paint.paint)(newState);\n              },\n              update: function update() {\n                return state = (0, _pipe.pipe)(_makeCanvas.updCanvas, _paint.paint)(state);\n              },\n              destroy: function destroy() {\n                if (element.tagName !== \"CANVAS\") {\n                  state.canvas.element.remove();\n                }\n\n                state = null;\n                eventListeners.map(function (listener) {\n                  return listener.remove();\n                });\n              }\n            });\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function puzzle(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.puzzle = puzzle;\nvar _default = puzzle;\nexports.default = _default;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"index.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"index.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"index.js","original":{"line":3,"column":0}},{"generated":{"line":14,"column":0},"source":"index.js","original":{"line":4,"column":0}},{"generated":{"line":16,"column":0},"source":"index.js","original":{"line":6,"column":0}},{"generated":{"line":18,"column":0},"source":"index.js","original":{"line":7,"column":0}},{"generated":{"line":20,"column":0},"source":"index.js","original":{"line":8,"column":0}},{"generated":{"line":22,"column":0},"source":"index.js","original":{"line":9,"column":0}},{"generated":{"line":24,"column":0},"source":"index.js","original":{"line":10,"column":0}},{"generated":{"line":26,"column":0},"source":"index.js","original":{"line":11,"column":0}},{"generated":{"line":28,"column":0},"source":"index.js","original":{"line":12,"column":0}},{"generated":{"line":30,"column":0},"source":"index.js","original":{"line":13,"column":0}},{"generated":{"line":32,"column":0},"source":"index.js","original":{"line":14,"column":0}},{"generated":{"line":34,"column":0},"source":"index.js","original":{"line":15,"column":0}},{"generated":{"line":36,"column":0},"source":"index.js","original":{"line":16,"column":0}},{"generated":{"line":38,"column":0},"source":"index.js","original":{"line":17,"column":0}},{"generated":{"line":40,"column":0},"source":"index.js","original":{"line":18,"column":0}},{"generated":{"line":46,"column":0},"source":"index.js","original":{"line":20,"column":7}},{"name":"puzzle","generated":{"line":46,"column":4},"source":"index.js","original":{"line":20,"column":13}},{"generated":{"line":46,"column":10},"source":"index.js","original":{"line":20,"column":19}},{"generated":{"line":47,"column":0},"source":"index.js","original":{"line":20,"column":19}},{"generated":{"line":47,"column":70},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":48,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":50,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":51,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":52,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":53,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"name":"element","generated":{"line":54,"column":0},"source":"index.js","original":{"line":21,"column":2}},{"name":"element","generated":{"line":54,"column":12},"source":"index.js","original":{"line":21,"column":2}},{"generated":{"line":54,"column":19},"source":"index.js","original":{"line":20,"column":22}},{"name":"element","generated":{"line":54,"column":27},"source":"index.js","original":{"line":21,"column":2}},{"generated":{"line":54,"column":34},"source":"index.js","original":{"line":20,"column":22}},{"name":"restore","generated":{"line":54,"column":56},"source":"index.js","original":{"line":22,"column":2}},{"generated":{"line":54,"column":63},"source":"index.js","original":{"line":20,"column":22}},{"name":"restore","generated":{"line":54,"column":65},"source":"index.js","original":{"line":22,"column":2}},{"generated":{"line":54,"column":72},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":54,"column":101},"source":"index.js","original":{"line":22,"column":12}},{"generated":{"line":54,"column":103},"source":"index.js","original":{"line":20,"column":22}},{"name":"image","generated":{"line":54,"column":138},"source":"index.js","original":{"line":23,"column":2}},{"generated":{"line":54,"column":143},"source":"index.js","original":{"line":20,"column":22}},{"name":"img","generated":{"line":54,"column":145},"source":"index.js","original":{"line":23,"column":9}},{"generated":{"line":54,"column":148},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":54,"column":175},"source":"index.js","original":{"line":23,"column":15}},{"generated":{"line":54,"column":177},"source":"index.js","original":{"line":20,"column":22}},{"name":"pieces","generated":{"line":54,"column":211},"source":"index.js","original":{"line":24,"column":2}},{"generated":{"line":54,"column":217},"source":"index.js","original":{"line":20,"column":22}},{"name":"ps","generated":{"line":54,"column":219},"source":"index.js","original":{"line":24,"column":10}},{"generated":{"line":54,"column":221},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":54,"column":249},"source":"index.js","original":{"line":24,"column":15}},{"name":"x","generated":{"line":55,"column":0},"source":"index.js","original":{"line":24,"column":17}},{"name":"x","generated":{"line":55,"column":14},"source":"index.js","original":{"line":24,"column":17}},{"generated":{"line":55,"column":15},"source":"index.js","original":{"line":24,"column":18}},{"generated":{"line":55,"column":17},"source":"index.js","original":{"line":24,"column":20}},{"generated":{"line":55,"column":18},"source":"index.js","original":{"line":24,"column":15}},{"name":"y","generated":{"line":56,"column":0},"source":"index.js","original":{"line":24,"column":23}},{"name":"y","generated":{"line":56,"column":14},"source":"index.js","original":{"line":24,"column":23}},{"generated":{"line":56,"column":15},"source":"index.js","original":{"line":24,"column":24}},{"generated":{"line":56,"column":17},"source":"index.js","original":{"line":24,"column":26}},{"generated":{"line":57,"column":0},"source":"index.js","original":{"line":24,"column":15}},{"generated":{"line":57,"column":13},"source":"index.js","original":{"line":20,"column":22}},{"name":"attraction","generated":{"line":57,"column":52},"source":"index.js","original":{"line":25,"column":2}},{"generated":{"line":57,"column":62},"source":"index.js","original":{"line":20,"column":22}},{"name":"attraction","generated":{"line":57,"column":64},"source":"index.js","original":{"line":25,"column":2}},{"generated":{"line":57,"column":74},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":57,"column":106},"source":"index.js","original":{"line":25,"column":15}},{"generated":{"line":57,"column":108},"source":"index.js","original":{"line":20,"column":22}},{"name":"size","generated":{"line":57,"column":145},"source":"index.js","original":{"line":26,"column":2}},{"generated":{"line":57,"column":149},"source":"index.js","original":{"line":20,"column":22}},{"name":"size","generated":{"line":57,"column":151},"source":"index.js","original":{"line":26,"column":2}},{"generated":{"line":57,"column":155},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":57,"column":181},"source":"index.js","original":{"line":26,"column":9}},{"generated":{"line":57,"column":184},"source":"index.js","original":{"line":20,"column":22}},{"name":"draggable","generated":{"line":57,"column":220},"source":"index.js","original":{"line":27,"column":2}},{"generated":{"line":57,"column":229},"source":"index.js","original":{"line":20,"column":22}},{"name":"draggable","generated":{"line":57,"column":231},"source":"index.js","original":{"line":27,"column":2}},{"generated":{"line":57,"column":240},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":57,"column":271},"source":"index.js","original":{"line":27,"column":14}},{"generated":{"line":57,"column":276},"source":"index.js","original":{"line":20,"column":22}},{"name":"onComplete","generated":{"line":57,"column":318},"source":"index.js","original":{"line":28,"column":2}},{"generated":{"line":57,"column":328},"source":"index.js","original":{"line":20,"column":22}},{"name":"onComplete","generated":{"line":57,"column":330},"source":"index.js","original":{"line":28,"column":2}},{"generated":{"line":57,"column":340},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":57,"column":372},"source":"index.js","original":{"line":28,"column":15}},{"generated":{"line":57,"column":384},"source":"index.js","original":{"line":28,"column":21}},{"generated":{"line":57,"column":385},"source":"index.js","original":{"line":28,"column":23}},{"generated":{"line":57,"column":386},"source":"index.js","original":{"line":20,"column":22}},{"name":"onChange","generated":{"line":57,"column":427},"source":"index.js","original":{"line":29,"column":2}},{"generated":{"line":57,"column":435},"source":"index.js","original":{"line":20,"column":22}},{"name":"changecb","generated":{"line":57,"column":437},"source":"index.js","original":{"line":29,"column":12}},{"generated":{"line":57,"column":445},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":57,"column":475},"source":"index.js","original":{"line":29,"column":23}},{"generated":{"line":57,"column":487},"source":"index.js","original":{"line":29,"column":29}},{"generated":{"line":57,"column":488},"source":"index.js","original":{"line":29,"column":31}},{"generated":{"line":57,"column":489},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":58,"column":0},"source":"index.js","original":{"line":31,"column":2}},{"name":"container","generated":{"line":59,"column":0},"source":"index.js","original":{"line":32,"column":8}},{"name":"container","generated":{"line":59,"column":12},"source":"index.js","original":{"line":32,"column":8}},{"generated":{"line":59,"column":21},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":59,"column":24},"source":"index.js","original":{"line":32,"column":20}},{"name":"element","generated":{"line":59,"column":31},"source":"index.js","original":{"line":32,"column":27}},{"generated":{"line":59,"column":38},"source":"index.js","original":{"line":32,"column":20}},{"generated":{"line":59,"column":43},"source":"index.js","original":{"line":32,"column":39}},{"generated":{"line":59,"column":51},"source":"index.js","original":{"line":32,"column":20}},{"generated":{"line":59,"column":54},"source":"index.js","original":{"line":32,"column":50}},{"name":"element","generated":{"line":59,"column":66},"source":"index.js","original":{"line":32,"column":52}},{"generated":{"line":59,"column":73},"source":"index.js","original":{"line":32,"column":50}},{"generated":{"line":59,"column":74},"source":"index.js","original":{"line":32,"column":20}},{"name":"element","generated":{"line":59,"column":77},"source":"index.js","original":{"line":32,"column":63}},{"generated":{"line":59,"column":84},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":61,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"name":"container","generated":{"line":61,"column":16},"source":"index.js","original":{"line":34,"column":7}},{"generated":{"line":61,"column":25},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":62,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":63,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":64,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"name":"console","generated":{"line":66,"column":0},"source":"index.js","original":{"line":35,"column":4}},{"name":"console","generated":{"line":66,"column":12},"source":"index.js","original":{"line":35,"column":4}},{"generated":{"line":66,"column":19},"source":"index.js","original":{"line":35,"column":11}},{"name":"warn","generated":{"line":66,"column":20},"source":"index.js","original":{"line":35,"column":12}},{"generated":{"line":66,"column":24},"source":"index.js","original":{"line":35,"column":4}},{"name":"element","generated":{"line":66,"column":58},"source":"index.js","original":{"line":35,"column":43}},{"generated":{"line":66,"column":65},"source":"index.js","original":{"line":35,"column":4}},{"generated":{"line":67,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":69,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":70,"column":0},"source":"index.js","original":{"line":39,"column":2}},{"name":"canvas","generated":{"line":71,"column":0},"source":"index.js","original":{"line":40,"column":8}},{"name":"canvas","generated":{"line":71,"column":12},"source":"index.js","original":{"line":40,"column":8}},{"generated":{"line":71,"column":18},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":71,"column":21},"source":"index.js","original":{"line":40,"column":17}},{"name":"container","generated":{"line":71,"column":49},"source":"index.js","original":{"line":40,"column":28}},{"generated":{"line":71,"column":58},"source":"index.js","original":{"line":40,"column":17}},{"generated":{"line":71,"column":59},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":72,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"name":"restore","generated":{"line":72,"column":26},"source":"index.js","original":{"line":41,"column":16}},{"generated":{"line":72,"column":33},"source":"index.js","original":{"line":41,"column":23}},{"name":"image","generated":{"line":72,"column":34},"source":"index.js","original":{"line":41,"column":24}},{"generated":{"line":72,"column":39},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":74,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":75,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":76,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":77,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":79,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":80,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":80,"column":19},"source":"index.js","original":{"line":41,"column":40}},{"name":"img","generated":{"line":80,"column":45},"source":"index.js","original":{"line":41,"column":50}},{"generated":{"line":80,"column":48},"source":"index.js","original":{"line":41,"column":40}},{"generated":{"line":80,"column":49},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":82,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":83,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":85,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"name":"image","generated":{"line":86,"column":0},"source":"index.js","original":{"line":41,"column":8}},{"name":"image","generated":{"line":86,"column":12},"source":"index.js","original":{"line":41,"column":8}},{"generated":{"line":86,"column":17},"source":"index.js","original":{"line":20,"column":22}},{"name":"puzzle","generated":{"line":88,"column":0},"source":"index.js","original":{"line":42,"column":8}},{"name":"puzzle","generated":{"line":88,"column":12},"source":"index.js","original":{"line":42,"column":8}},{"generated":{"line":88,"column":18},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":88,"column":21},"source":"index.js","original":{"line":42,"column":17}},{"name":"puzzle","generated":{"line":88,"column":30},"source":"index.js","original":{"line":42,"column":8}},{"generated":{"line":88,"column":36},"source":"index.js","original":{"line":42,"column":17}},{"generated":{"line":89,"column":0},"source":"index.js","original":{"line":42,"column":17}},{"name":"restore","generated":{"line":89,"column":21},"source":"index.js","original":{"line":43,"column":4}},{"generated":{"line":89,"column":28},"source":"index.js","original":{"line":43,"column":11}},{"name":"puzzle","generated":{"line":89,"column":29},"source":"index.js","original":{"line":43,"column":12}},{"generated":{"line":89,"column":35},"source":"index.js","original":{"line":43,"column":4}},{"generated":{"line":89,"column":39},"source":"index.js","original":{"line":44,"column":4}},{"name":"ps","generated":{"line":89,"column":67},"source":"index.js","original":{"line":44,"column":15}},{"generated":{"line":89,"column":69},"source":"index.js","original":{"line":44,"column":4}},{"name":"image","generated":{"line":89,"column":71},"source":"index.js","original":{"line":44,"column":19}},{"generated":{"line":89,"column":76},"source":"index.js","original":{"line":44,"column":4}},{"name":"attraction","generated":{"line":89,"column":78},"source":"index.js","original":{"line":44,"column":26}},{"generated":{"line":89,"column":88},"source":"index.js","original":{"line":44,"column":4}},{"name":"container","generated":{"line":89,"column":90},"source":"index.js","original":{"line":44,"column":38}},{"generated":{"line":89,"column":99},"source":"index.js","original":{"line":44,"column":4}},{"name":"size","generated":{"line":89,"column":101},"source":"index.js","original":{"line":44,"column":49}},{"generated":{"line":89,"column":105},"source":"index.js","original":{"line":44,"column":4}},{"name":"draggable","generated":{"line":89,"column":107},"source":"index.js","original":{"line":44,"column":55}},{"generated":{"line":89,"column":116},"source":"index.js","original":{"line":44,"column":4}},{"name":"onComplete","generated":{"line":89,"column":118},"source":"index.js","original":{"line":44,"column":66}},{"generated":{"line":89,"column":128},"source":"index.js","original":{"line":44,"column":4}},{"generated":{"line":89,"column":129},"source":"index.js","original":{"line":42,"column":17}},{"generated":{"line":90,"column":0},"source":"index.js","original":{"line":42,"column":17}},{"generated":{"line":90,"column":13},"source":"index.js","original":{"line":20,"column":22}},{"name":"pieces","generated":{"line":92,"column":0},"source":"index.js","original":{"line":45,"column":8}},{"name":"pieces","generated":{"line":92,"column":12},"source":"index.js","original":{"line":45,"column":8}},{"generated":{"line":92,"column":18},"source":"index.js","original":{"line":20,"column":22}},{"name":"restore","generated":{"line":92,"column":21},"source":"index.js","original":{"line":45,"column":17}},{"generated":{"line":92,"column":28},"source":"index.js","original":{"line":45,"column":24}},{"name":"pieces","generated":{"line":92,"column":29},"source":"index.js","original":{"line":45,"column":25}},{"generated":{"line":92,"column":35},"source":"index.js","original":{"line":45,"column":17}},{"generated":{"line":92,"column":39},"source":"index.js","original":{"line":45,"column":35}},{"name":"puzzle","generated":{"line":92,"column":67},"source":"index.js","original":{"line":45,"column":46}},{"generated":{"line":92,"column":73},"source":"index.js","original":{"line":45,"column":52}},{"generated":{"line":92,"column":75},"source":"index.js","original":{"line":45,"column":35}},{"generated":{"line":92,"column":76},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":92,"column":78},"source":"index.js","original":{"line":47,"column":2}},{"name":"onChange","generated":{"line":94,"column":0},"source":"index.js","original":{"line":48,"column":8}},{"name":"onChange","generated":{"line":94,"column":12},"source":"index.js","original":{"line":48,"column":8}},{"generated":{"line":94,"column":20},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":94,"column":23},"source":"index.js","original":{"line":48,"column":19}},{"generated":{"line":94,"column":37},"source":"index.js","original":{"line":48,"column":23}},{"name":"clone","generated":{"line":94,"column":53},"source":"index.js","original":{"line":48,"column":28}},{"generated":{"line":94,"column":65},"source":"index.js","original":{"line":48,"column":23}},{"name":"changecb","generated":{"line":94,"column":67},"source":"index.js","original":{"line":48,"column":35}},{"generated":{"line":94,"column":75},"source":"index.js","original":{"line":48,"column":23}},{"generated":{"line":94,"column":76},"source":"index.js","original":{"line":48,"column":19}},{"generated":{"line":94,"column":77},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":94,"column":79},"source":"index.js","original":{"line":50,"column":2}},{"name":"initState","generated":{"line":96,"column":0},"source":"index.js","original":{"line":51,"column":8}},{"name":"initState","generated":{"line":96,"column":12},"source":"index.js","original":{"line":51,"column":8}},{"generated":{"line":96,"column":21},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":96,"column":24},"source":"index.js","original":{"line":51,"column":20}},{"name":"initState","generated":{"line":96,"column":33},"source":"index.js","original":{"line":51,"column":8}},{"generated":{"line":96,"column":42},"source":"index.js","original":{"line":51,"column":20}},{"generated":{"line":97,"column":0},"source":"index.js","original":{"line":51,"column":20}},{"generated":{"line":97,"column":21},"source":"index.js","original":{"line":51,"column":27}},{"name":"image","generated":{"line":98,"column":0},"source":"index.js","original":{"line":52,"column":4}},{"name":"image","generated":{"line":98,"column":16},"source":"index.js","original":{"line":52,"column":4}},{"generated":{"line":98,"column":21},"source":"index.js","original":{"line":52,"column":9}},{"name":"image","generated":{"line":98,"column":23},"source":"index.js","original":{"line":52,"column":4}},{"generated":{"line":98,"column":28},"source":"index.js","original":{"line":51,"column":27}},{"name":"canvas","generated":{"line":99,"column":0},"source":"index.js","original":{"line":53,"column":4}},{"name":"canvas","generated":{"line":99,"column":16},"source":"index.js","original":{"line":53,"column":4}},{"generated":{"line":99,"column":22},"source":"index.js","original":{"line":53,"column":10}},{"name":"canvas","generated":{"line":99,"column":24},"source":"index.js","original":{"line":53,"column":4}},{"generated":{"line":99,"column":30},"source":"index.js","original":{"line":51,"column":27}},{"name":"pieces","generated":{"line":100,"column":0},"source":"index.js","original":{"line":54,"column":4}},{"name":"pieces","generated":{"line":100,"column":16},"source":"index.js","original":{"line":54,"column":4}},{"generated":{"line":100,"column":22},"source":"index.js","original":{"line":54,"column":10}},{"name":"pieces","generated":{"line":100,"column":24},"source":"index.js","original":{"line":54,"column":4}},{"generated":{"line":100,"column":30},"source":"index.js","original":{"line":51,"column":27}},{"name":"puzzle","generated":{"line":101,"column":0},"source":"index.js","original":{"line":55,"column":4}},{"name":"puzzle","generated":{"line":101,"column":16},"source":"index.js","original":{"line":55,"column":4}},{"generated":{"line":101,"column":22},"source":"index.js","original":{"line":55,"column":10}},{"name":"puzzle","generated":{"line":101,"column":24},"source":"index.js","original":{"line":55,"column":12}},{"generated":{"line":101,"column":30},"source":"index.js","original":{"line":55,"column":18}},{"generated":{"line":102,"column":0},"source":"index.js","original":{"line":51,"column":27}},{"generated":{"line":102,"column":15},"source":"index.js","original":{"line":51,"column":20}},{"generated":{"line":103,"column":0},"source":"index.js","original":{"line":51,"column":20}},{"generated":{"line":103,"column":13},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":103,"column":15},"source":"index.js","original":{"line":58,"column":2}},{"name":"state","generated":{"line":106,"column":0},"source":"index.js","original":{"line":59,"column":6}},{"name":"state","generated":{"line":106,"column":12},"source":"index.js","original":{"line":59,"column":6}},{"generated":{"line":106,"column":17},"source":"index.js","original":{"line":20,"column":22}},{"name":"initState","generated":{"line":106,"column":20},"source":"index.js","original":{"line":59,"column":14}},{"generated":{"line":106,"column":29},"source":"index.js","original":{"line":59,"column":23}},{"generated":{"line":106,"column":31},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":106,"column":33},"source":"index.js","original":{"line":61,"column":2}},{"name":"state","generated":{"line":108,"column":0},"source":"index.js","original":{"line":62,"column":2}},{"name":"state","generated":{"line":108,"column":12},"source":"index.js","original":{"line":62,"column":2}},{"generated":{"line":108,"column":17},"source":"index.js","original":{"line":62,"column":7}},{"name":"restore","generated":{"line":108,"column":20},"source":"index.js","original":{"line":62,"column":10}},{"generated":{"line":108,"column":27},"source":"index.js","original":{"line":62,"column":17}},{"name":"puzzle","generated":{"line":108,"column":28},"source":"index.js","original":{"line":62,"column":18}},{"generated":{"line":108,"column":34},"source":"index.js","original":{"line":62,"column":10}},{"generated":{"line":108,"column":37},"source":"index.js","original":{"line":62,"column":27}},{"name":"paint","generated":{"line":108,"column":53},"source":"index.js","original":{"line":62,"column":32}},{"generated":{"line":108,"column":65},"source":"index.js","original":{"line":62,"column":27}},{"name":"state","generated":{"line":108,"column":67},"source":"index.js","original":{"line":62,"column":39}},{"generated":{"line":108,"column":72},"source":"index.js","original":{"line":62,"column":27}},{"generated":{"line":108,"column":73},"source":"index.js","original":{"line":62,"column":10}},{"generated":{"line":108,"column":76},"source":"index.js","original":{"line":62,"column":48}},{"name":"shuffle","generated":{"line":108,"column":92},"source":"index.js","original":{"line":62,"column":53}},{"generated":{"line":108,"column":108},"source":"index.js","original":{"line":62,"column":48}},{"name":"paint","generated":{"line":108,"column":110},"source":"index.js","original":{"line":62,"column":62}},{"generated":{"line":108,"column":122},"source":"index.js","original":{"line":62,"column":48}},{"name":"state","generated":{"line":108,"column":124},"source":"index.js","original":{"line":62,"column":69}},{"generated":{"line":108,"column":129},"source":"index.js","original":{"line":62,"column":48}},{"generated":{"line":108,"column":130},"source":"index.js","original":{"line":62,"column":2}},{"generated":{"line":108,"column":131},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":108,"column":132},"source":"index.js","original":{"line":64,"column":2}},{"name":"eventListeners","generated":{"line":110,"column":0},"source":"index.js","original":{"line":65,"column":8}},{"name":"eventListeners","generated":{"line":110,"column":12},"source":"index.js","original":{"line":65,"column":8}},{"generated":{"line":110,"column":26},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":110,"column":29},"source":"index.js","original":{"line":65,"column":25}},{"generated":{"line":110,"column":30},"source":"index.js","original":{"line":66,"column":4}},{"name":"window","generated":{"line":110,"column":57},"source":"index.js","original":{"line":66,"column":10}},{"generated":{"line":110,"column":63},"source":"index.js","original":{"line":66,"column":4}},{"name":"resize","generated":{"line":110,"column":65},"source":"index.js","original":{"line":66,"column":18}},{"generated":{"line":110,"column":71},"source":"index.js","original":{"line":66,"column":4}},{"generated":{"line":110,"column":72},"source":"index.js","original":{"line":67,"column":6}},{"name":"e","generated":{"line":110,"column":82},"source":"index.js","original":{"line":67,"column":7}},{"generated":{"line":110,"column":83},"source":"index.js","original":{"line":67,"column":6}},{"generated":{"line":111,"column":0},"source":"index.js","original":{"line":67,"column":6}},{"name":"state","generated":{"line":111,"column":21},"source":"index.js","original":{"line":67,"column":14}},{"generated":{"line":111,"column":26},"source":"index.js","original":{"line":67,"column":19}},{"generated":{"line":111,"column":29},"source":"index.js","original":{"line":67,"column":22}},{"name":"updCanvas","generated":{"line":111,"column":45},"source":"index.js","original":{"line":67,"column":27}},{"generated":{"line":111,"column":66},"source":"index.js","original":{"line":67,"column":22}},{"name":"gather","generated":{"line":111,"column":68},"source":"index.js","original":{"line":67,"column":38}},{"generated":{"line":111,"column":82},"source":"index.js","original":{"line":67,"column":22}},{"name":"paint","generated":{"line":111,"column":84},"source":"index.js","original":{"line":67,"column":46}},{"generated":{"line":111,"column":96},"source":"index.js","original":{"line":67,"column":22}},{"name":"state","generated":{"line":111,"column":98},"source":"index.js","original":{"line":67,"column":53}},{"generated":{"line":111,"column":103},"source":"index.js","original":{"line":67,"column":22}},{"generated":{"line":111,"column":104},"source":"index.js","original":{"line":67,"column":6}},{"generated":{"line":112,"column":0},"source":"index.js","original":{"line":67,"column":6}},{"generated":{"line":112,"column":13},"source":"index.js","original":{"line":66,"column":4}},{"generated":{"line":112,"column":14},"source":"index.js","original":{"line":65,"column":25}},{"generated":{"line":112,"column":16},"source":"index.js","original":{"line":69,"column":4}},{"name":"window","generated":{"line":112,"column":43},"source":"index.js","original":{"line":69,"column":10}},{"generated":{"line":112,"column":49},"source":"index.js","original":{"line":69,"column":4}},{"name":"scroll","generated":{"line":112,"column":51},"source":"index.js","original":{"line":69,"column":18}},{"generated":{"line":112,"column":57},"source":"index.js","original":{"line":69,"column":4}},{"generated":{"line":112,"column":58},"source":"index.js","original":{"line":69,"column":25}},{"name":"e","generated":{"line":112,"column":68},"source":"index.js","original":{"line":69,"column":26}},{"generated":{"line":112,"column":69},"source":"index.js","original":{"line":69,"column":25}},{"generated":{"line":113,"column":0},"source":"index.js","original":{"line":69,"column":25}},{"name":"state","generated":{"line":113,"column":21},"source":"index.js","original":{"line":69,"column":33}},{"generated":{"line":113,"column":26},"source":"index.js","original":{"line":69,"column":38}},{"generated":{"line":113,"column":29},"source":"index.js","original":{"line":69,"column":41}},{"name":"updCanvas","generated":{"line":113,"column":45},"source":"index.js","original":{"line":69,"column":46}},{"generated":{"line":113,"column":66},"source":"index.js","original":{"line":69,"column":41}},{"name":"state","generated":{"line":113,"column":68},"source":"index.js","original":{"line":69,"column":57}},{"generated":{"line":113,"column":73},"source":"index.js","original":{"line":69,"column":41}},{"generated":{"line":113,"column":74},"source":"index.js","original":{"line":69,"column":25}},{"generated":{"line":114,"column":0},"source":"index.js","original":{"line":69,"column":25}},{"generated":{"line":114,"column":13},"source":"index.js","original":{"line":69,"column":4}},{"generated":{"line":114,"column":14},"source":"index.js","original":{"line":65,"column":25}},{"generated":{"line":114,"column":16},"source":"index.js","original":{"line":70,"column":4}},{"name":"state","generated":{"line":114,"column":43},"source":"index.js","original":{"line":70,"column":10}},{"generated":{"line":114,"column":48},"source":"index.js","original":{"line":70,"column":15}},{"name":"canvas","generated":{"line":114,"column":49},"source":"index.js","original":{"line":70,"column":16}},{"generated":{"line":114,"column":55},"source":"index.js","original":{"line":70,"column":4}},{"name":"mousedown","generated":{"line":114,"column":57},"source":"index.js","original":{"line":70,"column":24}},{"generated":{"line":114,"column":66},"source":"index.js","original":{"line":70,"column":4}},{"generated":{"line":114,"column":67},"source":"index.js","original":{"line":71,"column":6}},{"name":"e","generated":{"line":114,"column":77},"source":"index.js","original":{"line":71,"column":7}},{"generated":{"line":114,"column":78},"source":"index.js","original":{"line":71,"column":6}},{"generated":{"line":115,"column":0},"source":"index.js","original":{"line":71,"column":6}},{"name":"state","generated":{"line":115,"column":21},"source":"index.js","original":{"line":71,"column":14}},{"generated":{"line":115,"column":26},"source":"index.js","original":{"line":71,"column":19}},{"generated":{"line":115,"column":29},"source":"index.js","original":{"line":71,"column":22}},{"generated":{"line":115,"column":45},"source":"index.js","original":{"line":71,"column":27}},{"name":"e","generated":{"line":115,"column":69},"source":"index.js","original":{"line":71,"column":36}},{"generated":{"line":115,"column":70},"source":"index.js","original":{"line":71,"column":27}},{"generated":{"line":115,"column":71},"source":"index.js","original":{"line":71,"column":22}},{"name":"paint","generated":{"line":115,"column":73},"source":"index.js","original":{"line":71,"column":40}},{"generated":{"line":115,"column":85},"source":"index.js","original":{"line":71,"column":22}},{"name":"state","generated":{"line":115,"column":87},"source":"index.js","original":{"line":71,"column":47}},{"generated":{"line":115,"column":92},"source":"index.js","original":{"line":71,"column":22}},{"generated":{"line":115,"column":93},"source":"index.js","original":{"line":71,"column":6}},{"generated":{"line":116,"column":0},"source":"index.js","original":{"line":71,"column":6}},{"generated":{"line":116,"column":13},"source":"index.js","original":{"line":70,"column":4}},{"generated":{"line":116,"column":14},"source":"index.js","original":{"line":65,"column":25}},{"generated":{"line":116,"column":16},"source":"index.js","original":{"line":73,"column":4}},{"name":"state","generated":{"line":116,"column":43},"source":"index.js","original":{"line":73,"column":10}},{"generated":{"line":116,"column":48},"source":"index.js","original":{"line":73,"column":15}},{"name":"canvas","generated":{"line":116,"column":49},"source":"index.js","original":{"line":73,"column":16}},{"generated":{"line":116,"column":55},"source":"index.js","original":{"line":73,"column":4}},{"name":"mousemove","generated":{"line":116,"column":57},"source":"index.js","original":{"line":73,"column":24}},{"generated":{"line":116,"column":66},"source":"index.js","original":{"line":73,"column":4}},{"generated":{"line":116,"column":67},"source":"index.js","original":{"line":73,"column":34}},{"name":"e","generated":{"line":116,"column":77},"source":"index.js","original":{"line":73,"column":35}},{"generated":{"line":116,"column":78},"source":"index.js","original":{"line":73,"column":34}},{"generated":{"line":117,"column":0},"source":"index.js","original":{"line":73,"column":34}},{"name":"state","generated":{"line":117,"column":21},"source":"index.js","original":{"line":73,"column":42}},{"generated":{"line":117,"column":26},"source":"index.js","original":{"line":73,"column":47}},{"generated":{"line":117,"column":29},"source":"index.js","original":{"line":73,"column":50}},{"generated":{"line":117,"column":45},"source":"index.js","original":{"line":73,"column":55}},{"name":"e","generated":{"line":117,"column":61},"source":"index.js","original":{"line":73,"column":60}},{"generated":{"line":117,"column":62},"source":"index.js","original":{"line":73,"column":55}},{"generated":{"line":117,"column":63},"source":"index.js","original":{"line":73,"column":50}},{"name":"paint","generated":{"line":117,"column":65},"source":"index.js","original":{"line":73,"column":64}},{"generated":{"line":117,"column":77},"source":"index.js","original":{"line":73,"column":50}},{"name":"state","generated":{"line":117,"column":79},"source":"index.js","original":{"line":73,"column":71}},{"generated":{"line":117,"column":84},"source":"index.js","original":{"line":73,"column":50}},{"generated":{"line":117,"column":85},"source":"index.js","original":{"line":73,"column":34}},{"generated":{"line":118,"column":0},"source":"index.js","original":{"line":73,"column":34}},{"generated":{"line":118,"column":13},"source":"index.js","original":{"line":73,"column":4}},{"generated":{"line":118,"column":14},"source":"index.js","original":{"line":65,"column":25}},{"generated":{"line":118,"column":16},"source":"index.js","original":{"line":74,"column":4}},{"name":"document","generated":{"line":118,"column":43},"source":"index.js","original":{"line":74,"column":10}},{"generated":{"line":118,"column":51},"source":"index.js","original":{"line":74,"column":18}},{"name":"body","generated":{"line":118,"column":52},"source":"index.js","original":{"line":74,"column":19}},{"generated":{"line":118,"column":56},"source":"index.js","original":{"line":74,"column":4}},{"name":"mouseup","generated":{"line":118,"column":58},"source":"index.js","original":{"line":74,"column":25}},{"generated":{"line":118,"column":65},"source":"index.js","original":{"line":74,"column":4}},{"generated":{"line":118,"column":66},"source":"index.js","original":{"line":75,"column":6}},{"name":"e","generated":{"line":118,"column":76},"source":"index.js","original":{"line":75,"column":7}},{"generated":{"line":118,"column":77},"source":"index.js","original":{"line":75,"column":6}},{"generated":{"line":119,"column":0},"source":"index.js","original":{"line":75,"column":6}},{"name":"state","generated":{"line":119,"column":21},"source":"index.js","original":{"line":75,"column":14}},{"generated":{"line":119,"column":26},"source":"index.js","original":{"line":75,"column":19}},{"generated":{"line":119,"column":29},"source":"index.js","original":{"line":75,"column":22}},{"name":"snap","generated":{"line":119,"column":45},"source":"index.js","original":{"line":75,"column":27}},{"generated":{"line":119,"column":55},"source":"index.js","original":{"line":75,"column":22}},{"name":"deactivate","generated":{"line":119,"column":57},"source":"index.js","original":{"line":75,"column":33}},{"generated":{"line":119,"column":79},"source":"index.js","original":{"line":75,"column":22}},{"name":"status","generated":{"line":119,"column":81},"source":"index.js","original":{"line":75,"column":45}},{"generated":{"line":119,"column":95},"source":"index.js","original":{"line":75,"column":22}},{"name":"paint","generated":{"line":119,"column":97},"source":"index.js","original":{"line":75,"column":53}},{"generated":{"line":119,"column":109},"source":"index.js","original":{"line":75,"column":22}},{"name":"onChange","generated":{"line":119,"column":111},"source":"index.js","original":{"line":75,"column":60}},{"generated":{"line":119,"column":119},"source":"index.js","original":{"line":75,"column":22}},{"name":"state","generated":{"line":119,"column":121},"source":"index.js","original":{"line":75,"column":70}},{"generated":{"line":119,"column":126},"source":"index.js","original":{"line":75,"column":22}},{"generated":{"line":119,"column":127},"source":"index.js","original":{"line":75,"column":6}},{"generated":{"line":120,"column":0},"source":"index.js","original":{"line":75,"column":6}},{"generated":{"line":120,"column":13},"source":"index.js","original":{"line":74,"column":4}},{"generated":{"line":120,"column":14},"source":"index.js","original":{"line":65,"column":25}},{"generated":{"line":120,"column":15},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":120,"column":17},"source":"index.js","original":{"line":79,"column":2}},{"generated":{"line":122,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":122,"column":45},"source":"index.js","original":{"line":80,"column":9}},{"name":"newGame","generated":{"line":123,"column":0},"source":"index.js","original":{"line":81,"column":4}},{"name":"newGame","generated":{"line":123,"column":14},"source":"index.js","original":{"line":81,"column":4}},{"generated":{"line":123,"column":21},"source":"index.js","original":{"line":81,"column":11}},{"generated":{"line":123,"column":23},"source":"index.js","original":{"line":81,"column":13}},{"generated":{"line":124,"column":0},"source":"index.js","original":{"line":81,"column":13}},{"name":"state","generated":{"line":124,"column":23},"source":"index.js","original":{"line":81,"column":20}},{"generated":{"line":124,"column":28},"source":"index.js","original":{"line":81,"column":25}},{"generated":{"line":124,"column":31},"source":"index.js","original":{"line":81,"column":28}},{"name":"shuffle","generated":{"line":124,"column":47},"source":"index.js","original":{"line":81,"column":33}},{"generated":{"line":124,"column":63},"source":"index.js","original":{"line":81,"column":28}},{"name":"paint","generated":{"line":124,"column":65},"source":"index.js","original":{"line":81,"column":42}},{"generated":{"line":124,"column":77},"source":"index.js","original":{"line":81,"column":28}},{"name":"initState","generated":{"line":124,"column":79},"source":"index.js","original":{"line":81,"column":49}},{"generated":{"line":124,"column":88},"source":"index.js","original":{"line":81,"column":58}},{"generated":{"line":124,"column":90},"source":"index.js","original":{"line":81,"column":28}},{"generated":{"line":124,"column":91},"source":"index.js","original":{"line":81,"column":13}},{"generated":{"line":125,"column":0},"source":"index.js","original":{"line":81,"column":13}},{"generated":{"line":125,"column":15},"source":"index.js","original":{"line":80,"column":9}},{"name":"getState","generated":{"line":126,"column":0},"source":"index.js","original":{"line":82,"column":4}},{"name":"getState","generated":{"line":126,"column":14},"source":"index.js","original":{"line":82,"column":4}},{"generated":{"line":126,"column":22},"source":"index.js","original":{"line":82,"column":12}},{"generated":{"line":126,"column":24},"source":"index.js","original":{"line":82,"column":14}},{"generated":{"line":127,"column":0},"source":"index.js","original":{"line":82,"column":14}},{"generated":{"line":127,"column":23},"source":"index.js","original":{"line":82,"column":20}},{"name":"state","generated":{"line":127,"column":41},"source":"index.js","original":{"line":82,"column":26}},{"generated":{"line":127,"column":46},"source":"index.js","original":{"line":82,"column":20}},{"generated":{"line":127,"column":47},"source":"index.js","original":{"line":82,"column":14}},{"generated":{"line":128,"column":0},"source":"index.js","original":{"line":82,"column":14}},{"generated":{"line":128,"column":15},"source":"index.js","original":{"line":80,"column":9}},{"name":"setState","generated":{"line":129,"column":0},"source":"index.js","original":{"line":83,"column":4}},{"name":"setState","generated":{"line":129,"column":14},"source":"index.js","original":{"line":83,"column":4}},{"generated":{"line":129,"column":22},"source":"index.js","original":{"line":83,"column":12}},{"generated":{"line":129,"column":24},"source":"index.js","original":{"line":83,"column":14}},{"name":"newState","generated":{"line":129,"column":42},"source":"index.js","original":{"line":83,"column":15}},{"generated":{"line":129,"column":50},"source":"index.js","original":{"line":83,"column":14}},{"generated":{"line":130,"column":0},"source":"index.js","original":{"line":83,"column":14}},{"name":"state","generated":{"line":130,"column":23},"source":"index.js","original":{"line":83,"column":29}},{"generated":{"line":130,"column":28},"source":"index.js","original":{"line":83,"column":34}},{"generated":{"line":130,"column":31},"source":"index.js","original":{"line":83,"column":37}},{"name":"clone","generated":{"line":130,"column":47},"source":"index.js","original":{"line":83,"column":42}},{"generated":{"line":130,"column":59},"source":"index.js","original":{"line":83,"column":37}},{"name":"paint","generated":{"line":130,"column":61},"source":"index.js","original":{"line":83,"column":49}},{"generated":{"line":130,"column":73},"source":"index.js","original":{"line":83,"column":37}},{"name":"newState","generated":{"line":130,"column":75},"source":"index.js","original":{"line":83,"column":56}},{"generated":{"line":130,"column":83},"source":"index.js","original":{"line":83,"column":37}},{"generated":{"line":130,"column":84},"source":"index.js","original":{"line":83,"column":14}},{"generated":{"line":131,"column":0},"source":"index.js","original":{"line":83,"column":14}},{"generated":{"line":131,"column":15},"source":"index.js","original":{"line":80,"column":9}},{"name":"update","generated":{"line":132,"column":0},"source":"index.js","original":{"line":84,"column":4}},{"name":"update","generated":{"line":132,"column":14},"source":"index.js","original":{"line":84,"column":4}},{"generated":{"line":132,"column":20},"source":"index.js","original":{"line":84,"column":10}},{"generated":{"line":132,"column":22},"source":"index.js","original":{"line":84,"column":12}},{"generated":{"line":133,"column":0},"source":"index.js","original":{"line":84,"column":12}},{"name":"state","generated":{"line":133,"column":23},"source":"index.js","original":{"line":84,"column":19}},{"generated":{"line":133,"column":28},"source":"index.js","original":{"line":84,"column":24}},{"generated":{"line":133,"column":31},"source":"index.js","original":{"line":84,"column":27}},{"name":"updCanvas","generated":{"line":133,"column":47},"source":"index.js","original":{"line":84,"column":32}},{"generated":{"line":133,"column":68},"source":"index.js","original":{"line":84,"column":27}},{"name":"paint","generated":{"line":133,"column":70},"source":"index.js","original":{"line":84,"column":43}},{"generated":{"line":133,"column":82},"source":"index.js","original":{"line":84,"column":27}},{"name":"state","generated":{"line":133,"column":84},"source":"index.js","original":{"line":84,"column":50}},{"generated":{"line":133,"column":89},"source":"index.js","original":{"line":84,"column":27}},{"generated":{"line":133,"column":90},"source":"index.js","original":{"line":84,"column":12}},{"generated":{"line":134,"column":0},"source":"index.js","original":{"line":84,"column":12}},{"generated":{"line":134,"column":15},"source":"index.js","original":{"line":80,"column":9}},{"name":"destroy","generated":{"line":135,"column":0},"source":"index.js","original":{"line":85,"column":4}},{"name":"destroy","generated":{"line":135,"column":14},"source":"index.js","original":{"line":85,"column":4}},{"generated":{"line":135,"column":21},"source":"index.js","original":{"line":85,"column":11}},{"generated":{"line":135,"column":23},"source":"index.js","original":{"line":85,"column":13}},{"generated":{"line":135,"column":42},"source":"index.js","original":{"line":85,"column":19}},{"generated":{"line":136,"column":0},"source":"index.js","original":{"line":86,"column":6}},{"name":"element","generated":{"line":136,"column":20},"source":"index.js","original":{"line":86,"column":10}},{"generated":{"line":136,"column":27},"source":"index.js","original":{"line":86,"column":17}},{"name":"tagName","generated":{"line":136,"column":28},"source":"index.js","original":{"line":86,"column":18}},{"generated":{"line":136,"column":35},"source":"index.js","original":{"line":86,"column":10}},{"generated":{"line":136,"column":40},"source":"index.js","original":{"line":86,"column":30}},{"generated":{"line":136,"column":48},"source":"index.js","original":{"line":86,"column":6}},{"generated":{"line":136,"column":50},"source":"index.js","original":{"line":86,"column":40}},{"name":"state","generated":{"line":137,"column":0},"source":"index.js","original":{"line":87,"column":8}},{"name":"state","generated":{"line":137,"column":18},"source":"index.js","original":{"line":87,"column":8}},{"generated":{"line":137,"column":23},"source":"index.js","original":{"line":87,"column":13}},{"name":"canvas","generated":{"line":137,"column":24},"source":"index.js","original":{"line":87,"column":14}},{"generated":{"line":137,"column":30},"source":"index.js","original":{"line":87,"column":8}},{"name":"element","generated":{"line":137,"column":31},"source":"index.js","original":{"line":87,"column":21}},{"generated":{"line":137,"column":38},"source":"index.js","original":{"line":87,"column":8}},{"name":"remove","generated":{"line":137,"column":39},"source":"index.js","original":{"line":87,"column":29}},{"generated":{"line":137,"column":45},"source":"index.js","original":{"line":87,"column":8}},{"generated":{"line":138,"column":0},"source":"index.js","original":{"line":88,"column":7}},{"name":"state","generated":{"line":140,"column":0},"source":"index.js","original":{"line":90,"column":6}},{"name":"state","generated":{"line":140,"column":16},"source":"index.js","original":{"line":90,"column":6}},{"generated":{"line":140,"column":21},"source":"index.js","original":{"line":90,"column":11}},{"generated":{"line":140,"column":24},"source":"index.js","original":{"line":90,"column":14}},{"generated":{"line":140,"column":28},"source":"index.js","original":{"line":90,"column":6}},{"name":"eventListeners","generated":{"line":141,"column":0},"source":"index.js","original":{"line":91,"column":6}},{"name":"eventListeners","generated":{"line":141,"column":16},"source":"index.js","original":{"line":91,"column":6}},{"generated":{"line":141,"column":30},"source":"index.js","original":{"line":91,"column":20}},{"name":"map","generated":{"line":141,"column":31},"source":"index.js","original":{"line":91,"column":21}},{"generated":{"line":141,"column":34},"source":"index.js","original":{"line":91,"column":6}},{"generated":{"line":141,"column":35},"source":"index.js","original":{"line":91,"column":25}},{"name":"listener","generated":{"line":141,"column":45},"source":"index.js","original":{"line":91,"column":26}},{"generated":{"line":141,"column":53},"source":"index.js","original":{"line":91,"column":25}},{"generated":{"line":142,"column":0},"source":"index.js","original":{"line":91,"column":25}},{"name":"listener","generated":{"line":142,"column":25},"source":"index.js","original":{"line":91,"column":39}},{"generated":{"line":142,"column":33},"source":"index.js","original":{"line":91,"column":47}},{"name":"remove","generated":{"line":142,"column":34},"source":"index.js","original":{"line":91,"column":48}},{"generated":{"line":142,"column":40},"source":"index.js","original":{"line":91,"column":39}},{"generated":{"line":142,"column":42},"source":"index.js","original":{"line":91,"column":25}},{"generated":{"line":143,"column":0},"source":"index.js","original":{"line":91,"column":25}},{"generated":{"line":143,"column":17},"source":"index.js","original":{"line":91,"column":6}},{"generated":{"line":144,"column":0},"source":"index.js","original":{"line":92,"column":5}},{"generated":{"line":145,"column":0},"source":"index.js","original":{"line":80,"column":9}},{"generated":{"line":145,"column":13},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":147,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":148,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":149,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":150,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":151,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":152,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":153,"column":0},"source":"index.js","original":{"line":20,"column":22}},{"generated":{"line":153,"column":3},"source":"index.js","original":{"line":20,"column":19}},{"generated":{"line":155,"column":0},"source":"index.js","original":{"line":20,"column":19}},{"generated":{"line":156,"column":0},"source":"index.js","original":{"line":20,"column":19}},{"generated":{"line":157,"column":0},"source":"index.js","original":{"line":20,"column":19}},{"generated":{"line":158,"column":0},"source":"index.js","original":{"line":20,"column":19}},{"generated":{"line":158,"column":3},"source":"index.js","original":{"line":20,"column":7}},{"name":"puzzle","generated":{"line":161,"column":15},"source":"index.js","original":{"line":96,"column":15}}],"sources":{"index.js":"import { $ } from \"./utils/dom.js\";\nimport { pipe } from \"./utils/pipe.js\";\nimport { tap } from \"./utils/tap.js\";\nimport { event } from \"./utils/event-listeners.js\";\n\nimport { makeCanvas, updCanvas } from \"./lib/make-canvas.js\";\nimport { loadImage } from \"./lib/load-image.js\";\nimport { makePuzzle } from \"./lib/make-puzzle.js\";\nimport { makePieces } from \"./lib/make-pieces.js\";\nimport { shuffle } from \"./lib/shuffle.js\";\nimport { paint } from \"./lib/paint.js\";\nimport { activate } from \"./lib/activate.js\";\nimport { deactivate } from \"./lib/deactivate.js\";\nimport { move } from \"./lib/move.js\";\nimport { snap } from \"./lib/snap.js\";\nimport { status } from \"./lib/status.js\";\nimport { gather } from \"./lib/gather.js\";\nimport { clone } from \"./lib/clone.js\";\n\nexport const puzzle = async ({\n  element,\n  restore = {},\n  image: img = \"\",\n  pieces: ps = { x: 6, y: 4 },\n  attraction = 20,\n  size = 0.8,\n  draggable = false,\n  onComplete = () => {},\n  onChange: changecb = () => {},\n}) => {\n  // game board\n  const container = typeof element === \"string\" ? $(element) : element;\n\n  if (!container) {\n    console.warn(`Couldn't find element: ${element}`);\n    return;\n  }\n\n  // initial setup\n  const canvas = makeCanvas(container);\n  const image = restore.image || (await loadImage(img));\n  const puzzle = () =>\n    restore.puzzle ||\n    makePuzzle(ps, image, attraction, container, size, draggable, onComplete);\n  const pieces = restore.pieces || makePieces(puzzle());\n\n  // passed on-change callback\n  const onChange = tap(pipe(clone, changecb));\n\n  // initial state\n  const initState = () => ({\n    image,\n    canvas,\n    pieces,\n    puzzle: puzzle(),\n  });\n\n  // 'global' game state\n  let state = initState();\n\n  // initial paint\n  state = restore.puzzle ? pipe(paint)(state) : pipe(shuffle, paint)(state);\n\n  // user interactions\n  const eventListeners = [\n    event(window).resize(\n      (e) => (state = pipe(updCanvas, gather, paint)(state))\n    ),\n    event(window).scroll((e) => (state = pipe(updCanvas)(state))),\n    event(state.canvas).mousedown(\n      (e) => (state = pipe(activate(e), paint)(state))\n    ),\n    event(state.canvas).mousemove((e) => (state = pipe(move(e), paint)(state))),\n    event(document.body).mouseup(\n      (e) => (state = pipe(snap, deactivate, status, paint, onChange)(state))\n    ),\n  ];\n\n  // exposed api\n  return {\n    newGame: () => (state = pipe(shuffle, paint)(initState())),\n    getState: () => clone(state),\n    setState: (newState) => (state = pipe(clone, paint)(newState)),\n    update: () => (state = pipe(updCanvas, paint)(state)),\n    destroy: () => {\n      if (element.tagName !== \"CANVAS\") {\n        state.canvas.element.remove();\n      }\n\n      state = null;\n      eventListeners.map((listener) => listener.remove());\n    },\n  };\n};\n\nexport default puzzle;\n"},"lineCount":null}},"error":null,"hash":"d7140f50a39c86f65a9b8d635447612f","cacheData":{"env":{}}}