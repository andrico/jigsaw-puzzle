parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"hZBy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$=void 0;var e=function(e){return document.querySelector(e)};exports.$=e;
},{}],"ZnGg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pipe=void 0;var e=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(e){return[].concat(r).reduce(function(e,r){return r(e)},e)}};exports.pipe=e;
},{}],"BphK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tap=void 0;var e=function(e){return function(t){return e(t),t}};exports.tap=e;
},{}],"LmCC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.event=void 0;var e=function(e,n,t){var r=t;return n.addEventListener(e,t),{remove:function(){return n.removeEventListener(e,r)}}},n=function(n){return{scroll:function(n){return e("scroll",window,n)},resize:function(n){return e("resize",window,n)},click:function(t){return e("click",n.element,t)},mousedown:function(t){return e("mousedown",n.element,t)},mousemove:function(t){return e("mousemove",n.element,t)},mouseup:function(n){return e("mouseup",document.body,n)}}};exports.event=n;
},{}],"p0XB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeCanvas=exports.updCanvas=void 0;var e=function(e){var t=e.canvas.element.getBoundingClientRect(),a=t.top,n=t.left;return e.canvas.pos={x:n,y:a},e};exports.updCanvas=e;var t=function(e){var t=window.devicePixelRatio,a="CANVAS"===e.tagName?e:document.createElement("canvas"),n=a.getContext("2d"),i=getComputedStyle(e),s=i.height,r=i.width;a.width=parseInt(r,0)*t,a.height=parseInt(s,0)*t,a.style.width=parseInt(r,0)+"px",a.style.height=parseInt(s,0)+"px","CANVAS"!==e.tagName&&e.appendChild(a);var o=a.getBoundingClientRect(),p=o.top;return{element:a,ctx:n,pos:{x:o.left,y:p},width:a.width,height:a.height,DPI:t}};exports.makeCanvas=t;
},{}],"Qepy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadImage=void 0;var e=function(e){return new Promise(function(t){var o=new Image;o.onload=function(){return t({image:o,width:o.width,height:o.height})},o.src=e})};exports.loadImage=e;
},{}],"TZKA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makePuzzle=void 0;var e=function(e,t,i,o,h,a,r){var d=getComputedStyle(o),l=d.width,n=d.height,s=t.width<t.height,c=window.devicePixelRatio,p=parseInt([s?n:l],0)/t[s?"height":"width"];return{timeStamp:Date.now(),done:!1,cols:e.x,rows:e.y,width:t.width*p*c,height:t.height*p*c,attraction:i,scale:p,occupy:h,draggable:a,onComplete:r}};exports.makePuzzle=e;
},{}],"E8ee":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.same=exports.removeNull=exports.isTruthy=void 0;var r=function(r){return function(e){return e[r]}};exports.isTruthy=r;var e=function(r){var e={};return Object.keys(r).forEach(function(t){null!==r[t]&&(e[t]=r[t])}),e};exports.removeNull=e;var t=function(r,e){return function(t){return t[r]===e}};exports.same=t;
},{}],"Tv03":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNeighbors=void 0;var e=require("./object-helpers.js"),r=function(r,t,l){var o=r+1,u={top:o>l?r-l:null,right:o%l!=0?r+1:null,bottom:o<=(t-1)*l?r+l:null,left:o%l!=1?r-1:null};return(0,e.removeNull)(u)};exports.getNeighbors=r;
},{"./object-helpers.js":"E8ee"}],"EOVc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nw=exports.sw=exports.isHorizontal=exports.isVertical=exports.opposite=exports.allSides=void 0;var t=["top","right","bottom","left"];exports.allSides=t;var o=function(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]};exports.opposite=o;var r=function(t){return"top"===t||"bottom"===t};exports.isVertical=r;var e=function(t){return!r(t)};exports.isHorizontal=e;var s=function(t){return"bottom"===t||"left"===t};exports.sw=s;var i=function(t){return"top"===t||"left"===t};exports.nw=i;
},{}],"UGTE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bezierInv=exports.bezier=void 0;var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,c=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)/110,x=e/2;return[{cx1:0,cy1:0,cx2:x-10*c,cy2:5*c,ex:x-13*c,ey:0*c},{cx1:x-13*c,cy1:0*c,cx2:x-10*c,cy2:-2*c,ex:x-12*c,ey:-5*c},{cx1:x-12*c,cy1:-5*c,cx2:x-30*c,cy2:-30*c,ex:x,ey:-30*c},{cx1:x,cy1:-30*c,cx2:x- -30*c,cy2:-31*c,ex:x- -12*c,ey:-5*c},{cx1:x- -12*c,cy1:-5*c,cx2:x- -10*c,cy2:-2*c,ex:x- -13*c,ey:0*c},{cx1:x- -13*c,cy1:0*c,cx2:x- -10*c,cy2:5*c,ex:e,ey:0*c}]};exports.bezier=e;var c=function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map(function(e,x){return{cx1:e.cx1*c,cy1:-1*e.cy1,cx2:e.cx2*c,cy2:-1*e.cy2,ex:e.ex*c,ey:-1*e.ey}})};exports.bezierInv=c;
},{}],"w1ka":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.random=void 0;var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random();return.5*(Math.cos(6669.1337*Math.sin(1337.1337*(e+69)))+1)};exports.random=e;
},{}],"RBR4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeShapes=void 0;var e=require("./../utils/sides.js"),r=require("./../utils/bezier.js"),t=require("./../utils/random.js");function n(e){return c(e)||u(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}function u(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return a(e)}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach(function(r){b(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var l=function(i,o){var u,c,a,s,l=function(e){return i.find(function(r){return r.id===e})},p=function(r,t){return l(r)&&l(r).shapes&&l(r).shapes[(0,e.opposite)(t)]},y=f(f({},(c=(u=o).neighbors,a=u.width,s=u.height,Object.keys(c).reduce(function(n,i){return f(b({},i,p(c[i],i)?(0,r.bezierInv)(p(c[i],i)):(0,t.random)()>=.5?(0,r.bezier)((0,e.isVertical)(i)?a:s,Math.min(a,s)):(0,r.bezierInv)((0,r.bezier)((0,e.isVertical)(i)?a:s,Math.min(a,s)))),n)},{}))),function(r){var t=r.neighbors;return e.allSides.filter(function(e){return!Object.keys(t).includes(e)}).reduce(function(e,r){return f(b({},r,"flat"),e)},{})}(o));return[f(f({},o),{},{shapes:y})].concat(n(i))};exports.makeShapes=l;
},{"./../utils/sides.js":"EOVc","./../utils/bezier.js":"UGTE","./../utils/random.js":"w1ka"}],"ayG8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makePieces=void 0;var r=require("./../utils/get-neighbors.js"),e=require("./make-shapes.js");function t(r){return s(r)||i(r)||n(r)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(r,e){if(r){if("string"==typeof r)return a(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(r,e):void 0}}function i(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function s(r){if(Array.isArray(r))return a(r)}function a(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var c=function(o){var n=t(Array(o.rows*o.cols)),i=o.width/o.cols*o.occupy,s=o.height/o.rows*o.occupy;return n.map(function(e,t){return{id:t,orgPos:{x:t%o.cols*i,y:Math.floor(t/o.cols)*s},curPos:{x:0,y:0},width:i,height:s,neighbors:(0,r.getNeighbors)(t,o.rows,o.cols),active:!1,connections:[]}}).reduce(e.makeShapes,[])};exports.makePieces=c;
},{"./../utils/get-neighbors.js":"Tv03","./make-shapes.js":"RBR4"}],"Meu3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffle=void 0;var e=require("./../utils/random.js");function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(r){n(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var o=function(r){return t(t({},r),{},{pieces:r.pieces.map(function(n,o){return t(t({},n),{},{connections:[],curPos:{x:(0,e.random)(o)*(r.canvas.width-r.pieces[0].width),y:(0,e.random)(o+123)*(r.canvas.height-r.pieces[0].height)}})})})};exports.shuffle=o;
},{"./../utils/random.js":"w1ka"}],"lzTd":[function(require,module,exports) {
"use strict";function r(r){return o(r)||n(r)||e(r)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(r,t){if(r){if("string"==typeof r)return i(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(r,t):void 0}}function n(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function o(r){if(Array.isArray(r))return i(r)}function i(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sort=exports.mapReverse=exports.map=exports.reverse=exports.connectedFirst=exports.activeLast=exports.randomElement=exports.filterUniqe=exports.shuffle=void 0;var u=Math.floor,a=Math.random,s=function(r){return r.map(function(r){return[a(),r]}).sort(function(r,t){return r[0]-t[0]}).map(function(r){return r[1]})};exports.shuffle=s;var c=function(t){return r(new Set(t))};exports.filterUniqe=c;var f=function(r){return r[u(a()*r.length)]};exports.randomElement=f;var p=function(r,t){return t.active?-1:1};exports.activeLast=p;var l=function(r,t){return r.connections.length>t.connections.length?-1:1};exports.connectedFirst=l;var v=function(r){return r.slice(0).reverse()};exports.reverse=v;var m=function(r){return function(t){return t.map(r)}};exports.map=m;var x=function(t){return function(e){return e.reduceRight(function(e,n,o,i){return[].concat(r(e),[t(n,o,i,e)])},[])}};exports.mapReverse=x;var d=function(r){return function(t){return t.sort(r)}};exports.sort=d;
},{}],"pWhb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.paintPiece=void 0;var e=require("./../utils/sides.js"),t=function(t){return function(a){var i=t.image.image,r=t.canvas,s=r.ctx,h=r.DPI,c=t.puzzle,n=c.scale,u=c.occupy,l=Math.max(a.width,a.height);s.save(),s.beginPath(),s.translate(a.curPos.x,a.curPos.y+a.height),e.allSides.forEach(function(e){o(s,a.shapes[e],{x:"top"===e||"bottom"===e?-a.height:-a.width,y:"top"===e||"bottom"===e?a.width:a.height})}),s.closePath(),s.clip(),s.drawImage(i,(a.orgPos.x-l)/n/h/u,(a.orgPos.y-l)/n/h/u,(a.width+2*l)/n/h/u,(a.height+2*l)/n/h/u,a.curPos.x/t.canvas.width-l,a.curPos.y/t.canvas.height-l-a.height,a.width+2*l,a.height+2*l),s.restore();var d=!t.puzzle.done&&(a.active||a.alsoActive);return s.shadowColor=d?"rgba(100, 100, 100, 1)":"rgba(50, 50, 50, 1)",s.strokeStyle=d?"rgba(225, 225, 225, 1)":"rgba(220, 220, 220, 1)",s.shadowBlur=d?2:1,s.lineWidth=d?2:1,s.shadowOffsetX=s.shadowOffsetY=-1,s.lineCap="round",s.lineJoin="round",s.stroke(),a}};function o(e,t,o){e.translate(0,o.x),"flat"===t?e.lineTo(o.y,0):t.forEach(function(t){e.bezierCurveTo(t.cx1,t.cy1,t.cx2,t.cy2,t.ex,t.ey)}),e.rotate(Math.PI/2)}exports.paintPiece=t;
},{"./../utils/sides.js":"EOVc"}],"wrzc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearCanvas=void 0;var e=function(e,a){return a.clearRect(0,0,e.canvas.width,e.canvas.height),a};exports.clearCanvas=e;
},{}],"nchg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.paint=void 0;var e=require("./../utils/array-helpers.js"),r=require("./paint-piece.js"),t=require("./clear-canvas.js");function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){i(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var a=function(n){return c(c({},n),{},{canvas:c(c({},n.canvas),{},{ctx:(0,t.clearCanvas)(n,n.canvas.ctx)}),pieces:(0,e.map)((0,r.paintPiece)(n))(n.pieces)})};exports.paint=a;
},{"./../utils/array-helpers.js":"lzTd","./paint-piece.js":"pWhb","./clear-canvas.js":"wrzc"}],"O7JW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.runIf=void 0;var e=function(e){return function(r){return function(t){return("function"==typeof r?r(t):r)?e(t):t}}};exports.runIf=e;
},{}],"xNGh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.activate=void 0;var e=require("./../utils/array-helpers.js"),t=require("./../utils/object-helpers.js"),r=require("./../utils/run-if.js"),n=require("./../utils/pipe.js"),c=require("./../utils/tap.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e,t,r){return(r.clientX-e.canvas.pos.x)*e.canvas.DPI>=t.curPos.x&&(r.clientX-e.canvas.pos.x)*e.canvas.DPI<=t.curPos.x+t.width},o=function(e,t,r){return(r.clientY-e.canvas.pos.y)*e.canvas.DPI>=t.curPos.y&&(r.clientY-e.canvas.pos.y)*e.canvas.DPI<=t.curPos.y+t.height},p=function(e,t,r){return a(e,t,r)&&o(e,t,r)},l=function(e,t,r){return{x:(r.clientX-e.canvas.pos.x)*e.canvas.DPI-t.curPos.x,y:(r.clientY-e.canvas.pos.y)*e.canvas.DPI-t.curPos.y}},f=function(c){return function(i){return s(s({},i),{},{pieces:(0,n.pipe)((0,e.mapReverse)(function(e,r,n,u){return s(s({},e),{},{active:!(u.find((0,t.isTruthy)("active"))||!p(i,e,c))&&l(i,e,c)})}),(0,e.mapReverse)(function(e,r,n){return s(s({},e),{},{active:n.find(function(t){return t.active&&t.connections.includes(e.id)})?l(i,e,c):!n.find((0,t.isTruthy)("active"))&&i.puzzle.draggable?l(i,e,c):e.active})}),(0,r.runIf)((0,e.sort)(e.activeLast))(function(e){return!i.puzzle.done&&e.filter(function(e){return e.active}).length!==i.pieces.length}))(i.pieces)})}};exports.activate=f;
},{"./../utils/array-helpers.js":"lzTd","./../utils/object-helpers.js":"E8ee","./../utils/run-if.js":"O7JW","./../utils/pipe.js":"ZnGg","./../utils/tap.js":"BphK"}],"d6jk":[function(require,module,exports) {
"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?e(Object(c),!0).forEach(function(e){r(t,e,c[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))})}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deactivate=void 0;var n=function(e){return t(t({},e),{},{pieces:e.pieces.map(function(e){return t(t({},e),{},{active:!1})})})};exports.deactivate=n;
},{}],"ojCs":[function(require,module,exports) {
"use strict";function e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function r(r){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?e(Object(c),!0).forEach(function(e){t(r,e,c[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})}return r}function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.move=void 0;var n=function(e){var t=e.clientX,n=e.clientY;return function(e){return r(r({},e),{},{pieces:e.pieces.map(function(c){return r(r({},c),{},{curPos:c.active?{x:(t-e.canvas.pos.x)*e.canvas.DPI-c.active.x,y:(n-e.canvas.pos.y)*e.canvas.DPI-c.active.y}:c.curPos})})})}};exports.move=n;
},{}],"yKIO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shareConnections=void 0;var n=require("./../utils/array-helpers.js");function e(n){return i(n)||o(n)||r(n)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(n,e){if(n){if("string"==typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(n,e):void 0}}function o(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}function i(n){if(Array.isArray(n))return c(n)}function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var s=function(t,r,o){r.connections=(0,n.filterUniqe)([r.id,o.id].concat(e(r.connections),e(o.connections))),r.connections.forEach(function(e){t.pieces.find(function(n){return n.id===e}).connections=(0,n.filterUniqe)(r.connections)}),o.connections.forEach(function(e){t.pieces.find(function(n){return n.id===e}).connections=(0,n.filterUniqe)(r.connections)})};exports.shareConnections=s;
},{"./../utils/array-helpers.js":"lzTd"}],"pCjM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isClose=void 0;var s=require("./../utils/sides.js"),r=function(r,e,o,t){var u=o.puzzle.attraction,i=(0,s.isVertical)(t)?"y":"x",c="x"===i?"y":"x",P=!(0,s.nw)(t),l=r["y"===i?"height":"width"],a=P?e.curPos[i]+l:e.curPos[i]-l;return r.curPos[i]<=a+u&&r.curPos[i]>=a-u&&r.curPos[c]<=e.curPos[c]+u&&r.curPos[c]>=e.curPos[c]-u};exports.isClose=r;
},{"./../utils/sides.js":"EOVc"}],"Jg52":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.snap=void 0;var r=require("./share-connections.js"),e=require("./is-close.js"),t=require("./../utils/object-helpers.js");function n(r,e){return f(r)||o(r,e)||u(r,e)||c()}function o(r,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var t=[],n=!0,o=!1,i=void 0;try{for(var c,u=r[Symbol.iterator]();!(n=(c=u.next()).done)&&(t.push(c.value),!e||t.length!==e);n=!0);}catch(s){o=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}}function i(r){return f(r)||a(r)||u(r)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(r,e){if(r){if("string"==typeof r)return s(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(r,e):void 0}}function s(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function a(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function f(r){if(Array.isArray(r))return r}var l=function(r,e,n){i(e).slice(0).forEach(function(e){var o=r.pieces.find((0,t.same)("id",e));o.curPos={x:o.curPos.x+n.x,y:o.curPos.y+n.y}})},y=function(o){var i=o.pieces.filter(function(r){return r.active});return i.length&&i.length!==o.pieces.length?(i.forEach(function(i){Object.entries(i.neighbors).forEach(function(c){var u=n(c,2),s=u[0],a=u[1],f=o.pieces.find((0,t.same)("id",a));if((0,e.isClose)(f,i,o,s)){var y={x:f.curPos.x+("right"===s?-f.width:"left"===s?+f.width:0),y:f.curPos.y+("top"===s?f.height:"bottom"===s?-f.height:0)};l(o,i.connections,{x:y.x-i.curPos.x,y:y.y-i.curPos.y}),i.curPos=y,(0,r.shareConnections)(o,i,f)}})}),o):o};exports.snap=y;
},{"./share-connections.js":"yKIO","./is-close.js":"pCjM","./../utils/object-helpers.js":"E8ee"}],"mXFZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.status=void 0;var e=function(e){return e.pieces[0].connections.length!==e.puzzle.rows*e.puzzle.cols||e.puzzle.done||(e.puzzle.done=!0,e.puzzle.onComplete(e)),e};exports.status=e;
},{}],"n5T4":[function(require,module,exports) {
"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?e(Object(c),!0).forEach(function(e){r(t,e,c[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))})}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.gather=void 0;var n=function(e){return e.pieces=e.pieces.map(function(r){return t(t({},r),{},{curPos:{x:r.curPos.x-r.width>e.canvas.width*e.canvas.DPI?e.canvas.width-r.width:r.curPos.x,y:r.curPos.y-r.height>e.canvas.height*e.canvas.DPI?e.canvas.height-r.height:r.curPos.y}})}),e};exports.gather=n;
},{}],"nsMB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clone=void 0;var e=function(e){return{image:e.image,canvas:e.canvas,pieces:JSON.parse(JSON.stringify(e.pieces)),puzzle:JSON.parse(JSON.stringify(e.puzzle))}};exports.clone=e;
},{}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.puzzle=void 0;var e=require("./utils/dom.js"),t=require("./utils/pipe.js"),n=require("./utils/tap.js"),r=require("./utils/event-listeners.js"),i=require("./lib/make-canvas.js"),u=require("./lib/load-image.js"),a=require("./lib/make-puzzle.js"),o=require("./lib/make-pieces.js"),s=require("./lib/shuffle.js"),p=require("./lib/paint.js"),c=require("./lib/activate.js"),l=require("./lib/deactivate.js"),v=require("./lib/move.js"),f=require("./lib/snap.js"),d=require("./lib/status.js"),m=require("./lib/gather.js"),b=require("./lib/clone.js");function j(e,t,n,r,i,u,a){try{var o=e[u](a),s=o.value}catch(p){return void n(p)}o.done?t(s):Promise.resolve(s).then(r,i)}function q(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var u=e.apply(t,n);function a(e){j(u,r,i,a,o,"next",e)}function o(e){j(u,r,i,a,o,"throw",e)}a(void 0)})}}var z=function(){var j=q(regeneratorRuntime.mark(function j(q){var z,g,h,w,x,k,y,C,P,S,A,N,R,_,G,I,M,O,V,$,B,D,E,F,H,J;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(z=q.element,g=q.restore,h=void 0===g?{}:g,w=q.image,x=void 0===w?"":w,k=q.pieces,y=void 0===k?{x:6,y:4}:k,C=q.attraction,P=void 0===C?20:C,S=q.size,A=void 0===S?.8:S,N=q.draggable,R=void 0!==N&&N,_=q.onComplete,G=void 0===_?function(){}:_,I=q.onChange,M=void 0===I?function(){}:I,O="string"==typeof z?(0,e.$)(z):z){j.next=5;break}return console.warn("Couldn't find element: ".concat(z)),j.abrupt("return");case 5:if(V=(0,i.makeCanvas)(O),j.t0=h.image,j.t0){j.next=11;break}return j.next=10,(0,u.loadImage)(x);case 10:j.t0=j.sent;case 11:return $=j.t0,B=function(){return h.puzzle||(0,a.makePuzzle)(y,$,P,O,A,R,G)},D=h.pieces||(0,o.makePieces)(B()),E=(0,n.tap)((0,t.pipe)(b.clone,M)),H=(F=function(){return{image:$,canvas:V,pieces:D,puzzle:B()}})(),H=h.puzzle?(0,t.pipe)(p.paint)(H):(0,t.pipe)(s.shuffle,p.paint)(H),J=[(0,r.event)(window).resize(function(e){return H=(0,t.pipe)(i.updCanvas,m.gather,p.paint)(H)}),(0,r.event)(window).scroll(function(e){return H=(0,t.pipe)(i.updCanvas)(H)}),(0,r.event)(H.canvas).mousedown(function(e){return H=(0,t.pipe)((0,c.activate)(e),p.paint)(H)}),(0,r.event)(H.canvas).mousemove(function(e){return H=(0,t.pipe)((0,v.move)(e),p.paint)(H)}),(0,r.event)(document.body).mouseup(function(e){return H=(0,t.pipe)(f.snap,l.deactivate,d.status,p.paint,E)(H)})],j.abrupt("return",{newGame:function(){return H=(0,t.pipe)(s.shuffle,p.paint)(F())},getState:function(){return(0,b.clone)(H)},setState:function(e){return H=(0,t.pipe)(b.clone,p.paint)(e)},update:function(){return H=(0,t.pipe)(i.updCanvas,p.paint)(H)},destroy:function(){"CANVAS"!==z.tagName&&H.canvas.element.remove(),H=null,J.map(function(e){return e.remove()})}});case 20:case"end":return j.stop()}},j)}));return function(e){return j.apply(this,arguments)}}();exports.puzzle=z;var g=z;exports.default=g;
},{"./utils/dom.js":"hZBy","./utils/pipe.js":"ZnGg","./utils/tap.js":"BphK","./utils/event-listeners.js":"LmCC","./lib/make-canvas.js":"p0XB","./lib/load-image.js":"Qepy","./lib/make-puzzle.js":"TZKA","./lib/make-pieces.js":"ayG8","./lib/shuffle.js":"Meu3","./lib/paint.js":"nchg","./lib/activate.js":"xNGh","./lib/deactivate.js":"d6jk","./lib/move.js":"ojCs","./lib/snap.js":"Jg52","./lib/status.js":"mXFZ","./lib/gather.js":"n5T4","./lib/clone.js":"nsMB"}]},{},["Focm"], null)
//# sourceMappingURL=/jigsaw-puzzle.min.js.map